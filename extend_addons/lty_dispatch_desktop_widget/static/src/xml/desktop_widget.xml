<?xml version="1.0" encoding="UTF-8"?>

<templates xml:space="preserve">
    <t t-name="bus_real_info_template">
        <div>
            <div class="bus_real_info dragContent" t-attf-style="position: absolute;left:{{widget.location_data.x}}px;top:{{widget.location_data.y}}px;z-index:{{widget.location_data.zIndex}}">
                <div class="boxTitle">
                    <div class="closeBox dragArea"><a class="close_bt" href="javascript:;"></a></div>
                    <div class="titleInfo infoL">
                        <table>
                            <tr>
                                <td rowspan="2"><span class="licenseNumber fmax">车号：<t t-esc="widget.data.license_number"></t></span></td>
                                <td><span class="licensePlate"><t t-esc="widget.data.license_plate"></t></span></td>
                            </tr>
                            <tr>
                                <td><span class="driver">司机：<t t-esc="widget.data.driver"></t></span><span class="crew">乘务：<t t-esc="widget.data.crew"></t></span></td>
                            </tr>
                        </table>
                    </div>
                    <div class="titleInfo infoR">
                        <div class="operation">
                            <div class="scene scene1">
                                <span class="sceneTitle">操作</span>
                                <ul class="operationNav set1">
                                    <li><a class="back_to_the_field" href="javascript:;">手动回场</a></li>
                                    <li><a class="sign" href="javascript:;">签到</a></li>
                                    <!-- <li><a class="start" href="javascript:;">发车</a></li> -->
                                    <li><a class="handle_exceptions" href="javascript:;">处理异常状态</a></li>
                                    <li><a class="schedule_a_return" href="javascript:;">安排回场任务</a></li>
                                    <li><a class="can_line" href="javascript:;">CAN总线</a></li>

                                </ul>
                            </div>
                            <div class="scene scene1">
                                <span class="sceneTitle">交互</span>
                                <ul class="operationNav set2">
                                    <li><a class="news" href="javascript:;">消息</a></li>
                                    <!-- <li><a class="notice" href="javascript:;">通知</a></li> -->
                                    <li><a class="conversation" href="javascript:;">通话</a></li>
                                </ul>
                            </div>
                            <a href="javascript:;" class="scene scene2 video">视频</a>
                            <a href="javascript:;" class="scene scene2 police">报警</a>
                            
                        </div>
                        <div class="more">
                            <span class="sceneMore">更多</span>
                            <ul class="morebox">
                                <li><a class="arrivalTime" href="javascript:;">到站时刻</a></li>
                                <li><a class="InformationInteraction" href="javascript:;">信息交互</a></li>
                                <li><a class="geographicalPosition" href="javascript:;">地理位置</a></li>
                                <li><a class="moreInfo" href="javascript:;">更多信息</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="popupContent">
                    <div class="vehicleInformation">
                        <table>
                            <tr>
                                <td>乘客<span class="fmax num"><t t-esc="widget.data.passenger"></t></span>人</td>
                                <td>满载率<span class="num"><t t-esc="widget.data.full_load_rate"></t></span></td>
                                <td>满意度<span class="num"><t t-esc="widget.data.satisfaction_degree"></t></span></td>
                            </tr>
                            <tr>
                                <td>车厢<span class="fmax num"><t t-esc="widget.data.carriage_temperature"></t></span>度</td>
                                <td>室外<span class="num"><t t-esc="widget.data.outdoor_temperature"></t></span>度</td>
                                <td>满意度<span class="num"><t t-esc="widget.data.satisfaction_degree_2"></t></span></td>
                            </tr>
                            <tr>
                                <td>后门<span class="fmax num"><t t-esc="widget.data.back_door"></t></span></td>
                                <td>前门<span class="num danger fmax"><t t-esc="widget.data.front_door"></t></span></td>
                                <td>当前车速<span class="num"><t t-esc="widget.data.speed"></t></span></td>
                            </tr>
                            <tr>
                                <td>驶向<span class="fmax num"><t t-esc="widget.data.sail"></t></span></td>
                                <td>前车<span class="num"><t t-esc="widget.data.front"></t></span></td>
                                <td>后车<span class="num"><t t-esc="widget.data.after_door"></t></span></td>
                            </tr>
                            <tr>
                                <td>回场时间<span class="dangerTime num"><t t-esc="widget.data.back_field_time"></t></span></td>
                                <td>下趟发车<span class="num"><t t-esc="widget.data.next_train_departure"></t></span></td>
                                <td>技术状况<span class="num"><t t-esc="widget.data.status"></t></span></td>
                            </tr>
                        </table>
                    </div>
                    <div class="carReport">
                        
                    </div>
                </div>
                <div class="lineInfo">
                    <span class="lineRoad"><t t-esc="widget.data.line"></t>路</span>
                    第<t t-esc="widget.data.trip"></t>趟，共<t t-esc="widget.data.total_trip"></t>趟
                </div>
            </div>
            <script type="text/javascript">
                $(function(){
                    $('.operation .scene1').hover(function(){
                        $(this).find('.operationNav').show();
                    },function(){
                        $(this).find('.operationNav').hide();
                    });

                    $('.infoR .more').hover(function(){
                        $(this).find('.morebox').show(150);
                    },function(){
                        $(this).find('.morebox').hide();
                    });
                });
            </script>
        </div>
    </t>

    <t t-name="arrival_time_chart_template">
        <div>
            <div class="carInfoScene carzxt" style="width:344px;height:330px;"></div>
        </div>
    </t>

    <t t-name="arrival_time_video_template">
        <div>
            <div class="carInfoScene" style="text-align:center;font-size:24px;color:red;">暂时空白（没有监控接口）</div>
        </div>
    </t>

    <t t-name="arrival_time_police_template">
        <div>
            <div class="carInfoScene policeTemplate">
                <h1 class="title"><img src="/lty_dispatch_desktop_widget/static/src/image/police.png" alt=""/>报警模式</h1>
                <p class="cont">启动报警模式后，该车会将报警模式前后10分钟及报警模式过程中的全部视频做保留，并上传至视频流媒体服务器。配合后续调查取证</p>
                <a class="onBt" href="javascript:;">启动报警模式</a>
                <ul class="tel">
                    <li>110</li>
                    <li>120</li>
                    <li>119</li>
                </ul>
            </div>
        </div>
    </t>

    <t t-name="arrival_time_more_info_template">
        <div>
            <div class="carInfoScene more_info_box">
                <div class="more_info_part info_1">
                    <div class="info_title">
                        <span class="title ">维保状态</span>
                    </div>
                    <div class="maintenance_status">
                        <ul class="info_status_nav">
                            <li class="oe_active">
                                <span class="arrow_first"><span></span></span>
                                <span class="label">待修</span>
                                <span class="arrow"><span></span></span>
                            </li>
                        
                            <li class="">
                                <span class="label">维修</span>
                                
                                <span class="arrow"><span></span></span>
                            </li>
                        
                            <li class="">
                                <span class="label">检验</span>
                                
                                <span class="arrow"><span></span></span>
                            </li>
                            <li class="">
                                <span class="label">完工</span>
                                
                                <span class="arrow"><span></span></span>
                            </li>
                        </ul>
                    </div>
                    <div class="info_cont">
                        <table class="info_status_cont maintenance_cont">
                            <tr>
                                <td>报修单号</td>
                                <td>BXD20923</td>
                                <td>保修时间</td>
                                <td>4/23</td>
                            </tr>
                            <tr>
                                <td>报修人</td>
                                <td>罗麒麟</td>
                                <td>预计出厂</td>
                                <td>4/25</td>
                            </tr>
                            <tr>
                                <td>维修单号</td>
                                <td>--</td>
                                <td>维修人</td>
                                <td>--</td>
                            </tr>
                            <tr>
                                <td>故障原因</td>
                                <td>传动轴断裂</td>
                                <td>维修方法</td>
                                <td>更换</td>
                            </tr>
                            <tr>
                                <td>技术状况</td>
                                <td>故障</td>
                                <td>回场时间</td>
                                <td>--</td>
                            </tr>
                        </table>
                    </div>
                    <div class="info_bt">
                        <a class="contact_bt" href="javascript:;">联系负责人</a>
                        <a class="time_bt" href="javascript:;">设定出厂时间</a>
                    </div>
                </div>
                <div class="more_info_part info_2">
                    <div class="info_title">
                        <span class="title ">维保记录</span>
                    </div>
                    <div class="info_cont">
                        <table class="info_status_cont record_cont">
                            <tr>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="more_info_part info_2">
                    <div class="info_title">
                        <span class="title ">行车记录</span>
                    </div>
                    <div class="info_cont">
                        <table class="info_status_cont record_cont">
                            <tr>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="more_info_part info_2">
                    <div class="info_title">
                        <span class="title ">安全日志</span>
                    </div>
                    <div class="info_cont">
                        <table class="info_status_cont record_cont">
                            <tr>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="more_info_part info_2">
                    <div class="info_title">
                        <span class="title ">掉线日志</span>
                    </div>
                    <div class="info_cont">
                        <table class="info_status_cont record_cont">
                            <tr>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="arrival_time_map_template">
        <div>
            <div class="carInfoScene" >
                <img width="344" height="330" t-attf-src="http://restapi.amap.com/v3/staticmap?location={{widget.data.longitude}},{{widget.data.latitude}}&amp;zoom=14&amp;size=344*330&amp;markers=large,,:{{widget.data.longitude}},{{widget.data.latitude}}&amp;key=cf2cefc7d7632953aa19dbf15c194019&amp;scale=2" alt="" />
            </div>
        </div>
    </t>

    <t t-name="passenger_flow_template">
        <div>
            <div class="passenger_flow_trend_chart dragContent" t-attf-style="position: absolute;left:{{widget.location_data.x}}px;top:{{widget.location_data.y}}px;z-index:{{widget.location_data.zIndex}}">
                <div class="closeBox dragArea"><a class="close_bt" href="javascript:;"></a></div>
                <t t-foreach="widget.passenger_data" t-as="passenger">
                    <div t-attf-class="trend_chart trend_chart_single" t-if="passenger.name">
                        <div class="top_title"> 
                            <span class="name mR10">
                                <t t-esc="passenger.name"></t>
                            </span>
                            <span class="mR10">
                                <t t-esc="passenger.line_car.join()"></t>路
                            </span>客流走势图
                            <a class="express_bt" href="javascript:;">发出越站客车</a>
                        </div>
                        <div class="passenger_flow_cont"></div>
                    </div>
                    <div t-attf-class="trend_chart trend_chart_summary" t-else="">
                        <div class="top_title">
                            <span class="mR10">
                                <t t-esc="passenger.line_car.join()"></t>
                            </span>汇总客流走势图
                        </div>
                        <div class="passenger_flow_cont"></div>
                    </div>
                </t>
            </div>
        </div>
    </t>

    <t t-name="trend_chart_template">
        <div class="trend_chart_info">
            <div class="trend_chart_map" style="width:466px;height:214px;" ></div>
            <ul class="map_botton_info">
                <li><span class="num red" t-attf-style="{{widget.passenger_data}}">
                    <t t-esc="widget.passenger_data[1].value[2]"></t>
                </span>滞站候车</li>
                <li><span class="num blue"><t t-esc="widget.passenger_data[2].value[1]"></t></span>0.5h上车</li>
                <li><span class="num gray"><t t-esc="widget.passenger_data[3].value[1]"></t></span>0.5h下车</li>
            </ul>
        </div>
    </t>

    <t t-name="express_train_template">
        <div>
            <div class="express_train_box">
                <div class="express_train" >
                    <header class="title">配发越站快车</header>
                    <form action="" class="express_train_content" id="express_train_content_id">
                        <div class="express_train_part">
                            <table class="express_train_info">
                                <tr>
                                    <td>
                                        <label class="labw"><input type="radio" class="bus_mode" name="bus_mode" value="vehicle" />从机动车配车</label>
                                        <label class="labw"><input class="bus_mode" type="radio" name="bus_mode" value="waiting_bus" />从待班车配车</label>
                                    </td>
                                    <td>
                                        <input type="time" required="required" t-att-value="widget.express_info.arrival_time"/>抵达<span class="name">
                                            <t t-esc="widget.express_info.name"></t>
                                        </span>
                                    </td>
                                </tr>
                            </table>
                            <select name="bus" class="select_bus" required="required">
                                <option value="">请选择</option>
                                <t t-foreach="widget.express_info.vehicle" t-as="vehicle">
                                    <option t-att-value="vehicle.id" class="opset vehicle_op">
                                        <t t-esc="vehicle.name"></t>
                                    </option>
                                </t>
                                <t t-foreach="widget.express_info.waiting_bus" t-as="waiting_bus">
                                    <option t-att-value="waiting_bus.id" class="waiting_bus_op opset">
                                        <t t-esc="waiting_bus.name"></t>
                                    </option>
                                </t>
                            </select>
                        </div>
                        <div class="select_part">
                            <title class="title">经停方式</title>
                            <table class="select_part_info">
                                <tr>
                                    <td>
                                        <label class="labw">
                                            <input type="radio" class="stopping_mode" name="stopping_mode" value="whole"/>全部经停
                                        </label>
                                    </td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>
                                        <label class="labw"><input type="radio" class="stopping_mode" name="stopping_mode" value="skip"/>越站经停</label>
                                    </td>
                                    <td>
                                        <div class="showInfo">
                                            <p class="skip_info">
                                                首站捡客后越至第<input min="1" type="number" t-att-value="widget.express_info.skip"/>站开始全部经停
                                            </p>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td valign="top">
                                        <label class="labw"><input type="radio" class="stopping_mode" name="stopping_mode" value="station"/>选站经停</label>
                                    </td>
                                    <td valign="top">
                                        <div class="showInfo">
                                            <table class="station_info">
                                                <t t-foreach="widget.express_info.station" t-as="station_list">
                                                    <tr>
                                                        <t t-foreach="station_list" t-as="station">
                                                            <td>
                                                                <label>
                                                                    <input type="checkbox" t-att-value="station.id" />
                                                                    <t t-esc="station.name"></t>
                                                                </label>
                                                            </td>
                                                        </t>
                                                    </tr>
                                                </t>
                                            </table>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </form>
                    <a href="javascript:;" class="sendbt">发车</a>
                </div>
                <script type="text/javascript">
                    $(function(){
                        $(".express_train .express_train_info").on("change", ".bus_mode", function(){
                            var v = this.value;
                            $(".express_train .express_train_part select").val('');
                            $(".express_train .express_train_part select .opset").hide();
                            $(".express_train .express_train_part select ."+v+"_op").show();
                        });
                        $(".express_train .select_part_info").on("click", ".stopping_mode", function(){
                            $(".express_train .select_part_info .showInfo").hide();
                            var stopping_mode_v= this.value;
                            $(this).parents("tr").find(".showInfo").show();
                        });
                    })
                </script>
            </div>
        </div>
    </t>

    <t t-name="plan_display_template">
        <div>
            <div class="plan_display dragContent" t-attf-style="position: absolute;left:{{widget.location_data.x}}px;top:{{widget.location_data.y}}px;z-index:{{widget.location_data.zIndex}}">
                <header class="closeBox dragArea">
                    <span class="title">线路：16路</span>
                    <a class="close_bt" href="javascript:;"></a>
                </header>
                <article class="plan_group">
                    <section class="section_plan_cont uplink_plan">
                        <header class="title">上行计划</header>
                        <table class="content_tb">
                            <tr>
                                <th>计划</th>
                                <th>到达</th>
                                <th>车辆</th>
                                <th>司机</th>
                                <th>状态</th>
                            </tr>
                            <t t-foreach="widget.plan_data.uplink_plan" t-as="item">
                                <t t-if="item.plan">
                                    <tr class="point">
                                        <td><t t-esc="item.plan"></t></td>
                                        <td><t t-esc="item.arrive"></t></td>
                                        <td><t t-esc="item.vehicle"></t></td>
                                        <td><t t-esc="item.driver"></t></td>
                                        <td><t t-esc="item.status"></t></td>
                                    </tr>
                                </t>
                                <t t-else="">
                                    <tr>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </t>
                                
                            </t>
                        </table>
                        <div class="bottom_bt">
                            <a class="cancel" href="javascript:;">取消</a>
                            <a class="adjust" href="javascript:;">调整</a>
                            <a class="forward_lead move_bt" name="front" href="javascript:;">前移</a>
                            <a class="retroposition move_bt" name="queen" href="javascript:;">后移</a>
                            <a class="adjust2" href="javascript:;">调整</a>
                            <a class="inquire" href="javascript:;">查询</a>
                        </div>
                    </section>
                    <section class="section_plan_cont uplink_yard">
                        <header class="title">上行车场</header>
                        <table class="content_tb">
                            <tr>
                                <th>计划</th>
                                <th>车辆</th>
                                <th>线路</th>
                                <th>回场</th>
                                <th>停车</th>
                            </tr>
                            <t t-foreach="widget.plan_data.uplink_yard" t-as="item">
                                <t t-if="item.plan">
                                    <tr class="point">
                                        <td><t t-esc="item.plan"></t></td>
                                        <td><t t-esc="item.vehicle"></t></td>
                                        <td><t t-esc="item.line"></t></td>
                                        <td><t t-esc="item.campo_atra"></t></td>
                                        <td><t t-esc="item.parking"></t></td>
                                    </tr>
                                </t>
                                <t t-else="">
                                    <tr>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </t>
                                
                            </t>
                        </table>
                        <div class="bottom_bt"></div>
                    </section>
                    <section class="section_plan_cont uplink_on_the_way uplink_yard">
                        <header class="title">上行在途</header>
                        <table class="content_tb">
                            <tr>
                                <th>下行计划</th>
                                <th>车辆</th>
                                <th>线路</th>
                                <th>回场</th>
                                <th>停车</th>
                            </tr>
                            <t t-foreach="widget.plan_data.uplink_on_the_way" t-as="item">
                                <t t-if="item.down_plan">
                                    <tr class="point">
                                        <td><t t-esc="item.down_plan"></t></td>
                                        <td><t t-esc="item.vehicle"></t></td>
                                        <td><t t-esc="item.line"></t></td>
                                        <td><t t-esc="item.campo_atra"></t></td>
                                        <td><t t-esc="item.parking"></t></td>
                                    </tr>
                                </t>
                                <t t-else="">
                                    <tr>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </t>
                                
                            </t>
                        </table>
                        <div class="bottom_bt"></div>
                    </section>
                    <section class="section_plan_cont uplink_plan down_plan">
                        <header class="title">下行计划</header>
                        <table class="content_tb">
                            <tr>
                                <th>计划</th>
                                <th>到达</th>
                                <th>车辆</th>
                                <th>司机</th>
                                <th>状态</th>
                            </tr>
                            <t t-foreach="widget.plan_data.down_plan" t-as="item">
                                <t t-if="item.plan">
                                    <tr class="point">
                                        <td><t t-esc="item.plan"></t></td>
                                        <td><t t-esc="item.arrive"></t></td>
                                        <td><t t-esc="item.vehicle"></t></td>
                                        <td><t t-esc="item.driver"></t></td>
                                        <td><t t-esc="item.status"></t></td>
                                    </tr>
                                </t>
                                <t t-else="">
                                    <tr>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </t>
                                
                            </t>
                        </table>
                        <div class="bottom_bt">
                            <a class="cancel" href="javascript:;">取消</a>
                            <a class="adjust" href="javascript:;">调整</a>
                            <a class="forward_lead move_bt" name="front" href="javascript:;">前移</a>
                            <a class="retroposition move_bt" name="queen" href="javascript:;">后移</a>
                            <a class="adjust2" href="javascript:;">调整</a>
                            <a class="inquire" href="javascript:;">查询</a>
                        </div>
                    </section>
                    <section class="section_plan_cont uplink_yard down_yard">
                        <header class="title">下行车场</header>
                        <table class="content_tb">
                            <tr>
                                <th>计划</th>
                                <th>车辆</th>
                                <th>线路</th>
                                <th>回场</th>
                                <th>停车</th>
                            </tr>
                            <t t-foreach="widget.plan_data.down_yard" t-as="item">
                                <t t-if="item.plan">
                                    <tr class="point">
                                        <td><t t-esc="item.plan"></t></td>
                                        <td><t t-esc="item.vehicle"></t></td>
                                        <td><t t-esc="item.line"></t></td>
                                        <td><t t-esc="item.campo_atra"></t></td>
                                        <td><t t-esc="item.parking"></t></td>
                                    </tr>
                                </t>
                                <t t-else="">
                                    <tr>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </t>
                                
                            </t>
                        </table>
                        <div class="bottom_bt"></div>
                    </section>
                    <section class="section_plan_cont uplink_yard down_on_the_way">
                        <header class="title">下行在途</header>
                        <table class="content_tb">
                            <tr>
                                <th>上行计划</th>
                                <th>车辆</th>
                                <th>线路</th>
                                <th>回场</th>
                                <th>停车</th>
                            </tr>
                            <t t-foreach="widget.plan_data.down_on_the_way" t-as="item">
                                <t t-if="item.down_plan">
                                    <tr class="point">
                                        <td><t t-esc="item.down_plan"></t></td>
                                        <td><t t-esc="item.vehicle"></t></td>
                                        <td><t t-esc="item.line"></t></td>
                                        <td><t t-esc="item.campo_atra"></t></td>
                                        <td><t t-esc="item.parking"></t></td>
                                    </tr>
                                </t>
                                <t t-else="">
                                    <tr>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </t>
                                
                            </t>
                        </table>
                        <div class="bottom_bt"></div>
                    </section>
                </article>
            </div>
        </div>
    </t>

    <t t-name="adjust_the_plan_template">
        <div>
            <div class="adjust_box">
                <div class="adjust_info">
                    <table class="adjust_content">
                        <tr>
                            <td>车辆：</td>
                            <td>
                                <t t-esc="quota.vehicle"></t>
                            </td>
                            <td>线路：</td>
                            <td>
                                <t t-esc="quota.line"></t>
                            </td>
                        </tr>
                        <tr>
                            <td>方向：</td>
                            <td>
                                <t t-esc="quota.direction_of"></t>
                            </td>
                            <td>运行线路</td>
                            <td>
                                <t t-esc="quota.run_line"></t>
                            </td>
                        </tr>
                        <tr>
                            <td>司机：</td>
                            <td>
                                <t t-esc="quota.driver"></t>
                            </td>
                            <td>趟次</td>
                            <td>
                                <t t-esc="quota.trip_time"></t>
                            </td>
                        </tr>
                        <tr>
                            <td>调整原因：</td>
                            <td>
                                <t t-esc="quota.adjust_the_reason"></t>
                            </td>
                            <td>计划类型</td>
                            <td>
                                <t t-esc="quota.type"></t>
                            </td>
                        </tr>
                        <tr>
                            <td>时间：</td>
                            <td>
                                <t t-esc="quota.time"></t>
                            </td>
                            <td>计划里程</td>
                            <td>
                                <t t-esc="quota.mileage"></t>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" width="50%">
                                批量调整同方向<input class="plan_num" type="number" min="1" />条计划
                            </td>
                            <td colspan="2" width="50%">
                                间隔<input class="time_num" type="number" min="1" />分钟
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="adjust_bt_box">
                    <a class="adjust_bt reset_bt" href="javascript:;">重置</a>
                    <a class="adjust_bt close_bt" href="javascript:;">关闭</a>
                    <a class="adjust_bt ok_bt" href="javascript:;">确定</a>
                </div>
            </div>
        </div>
    </t>

    <t t-name="communication_template">
        <div>
            <div class="communication dragContent nofix">
                <div class="directory dragArea">
                    <t t-if="widget.channel.length>0">
                        <div class="channel directory_part">
                            <div class="directory_title">频道</div>
                            <div class="children_directory">
                                <t t-foreach="widget.channel" t-as="channel">
                                    <t t-if="channel.id==widget.source_channel.id">
                                        <div t-attf-class="children_o op_active" t-attf-id="{{channel.id}}" t-attf-name="{{channel.name}}" t-attf-img="{{channel.img}}">
                                            # <t t-esc="channel.name"></t>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <div t-attf-class="children_o" t-attf-id="{{channel.id}}" t-attf-name="{{channel.name}}" t-attf-img="{{channel.img}}">
                                            # <t t-esc="channel.name"></t>
                                        </div>
                                    </t>
                                </t>
                            </div>
                        </div>
                    </t>
                    
                    <t t-if="widget.direct_messages.length>0">
                        <div class="direct_messages directory_part">
                            <div class="directory_title">私信</div>
                            <div class="children_directory">
                                <t t-foreach="widget.direct_messages" t-as="direct_messages">
                                    <t t-if="direct_messages.id==widget.source_channel.id">
                                        <div t-attf-class="children_o op_active" t-attf-id="{{direct_messages.id}}" t-attf-name="{{direct_messages.name}}" t-attf-img="{{direct_messages.img}}">
                                            # <t t-esc="direct_messages.name"></t>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <div t-attf-class="children_o" t-attf-id="{{direct_messages.id}}" t-attf-name="{{direct_messages.name}}" t-attf-img="{{direct_messages.img}}">
                                            # <t t-esc="direct_messages.name"></t>
                                        </div>
                                    </t>
                                </t>
                            </div>
                        </div>
                    </t>
                </div>
                

                <div class="chat_info">
                    <a class="close_bt" href="javascript:;"></a>
                    <div class="info_window">
                        <div class="load_cont">加载中...</div>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="info_window_template">
        <div class="info_window_child" t-attf-data_id="data_{{widget.source_channel.id}}">
            <div class="chat_title dragArea">
                <t t-esc="widget.source_channel.name"></t>
            </div>
            <div class="chat_content">
                <t t-if="widget.source_channel.is_history">
                    <div class="history_info">
                        <div class="history_query">
                            <a class="history_bt" t-attf-associated_id="{{widget.source_channel.id}}" href="javascript:;">查看更多消息</a>
                            <p class="history_load">加载中...</p>
                        </div>
                    </div>
                    <div class="current_info_fgx">---------以上是历史数据----------</div>
                </t>
                <div class="current_info">
                    
                </div>
            </div>
            <div class="send_chat">
                <div class="o_composer_input o_composer">
                    <textarea class="o_content_text" placeholder="写些什么..." tabindex="2" ></textarea>
                </div>
                <div class="o_composer_buttons o_composer">
                    <a class="o_composer_button_send send_cont_bt" t-attf-send_id="{{widget.source_channel.id}}" tabindex="3" type="button">发送</a>
                </div>
            </div>
        </div>
    </t>

    <t t-name="chat_model_template">
        <div class="chat_model">
            <div class="oe_chat_icon">
                <t t-if="info.img">
                    <img class="user_icon" t-attf-src="info.img" alt=""/>    
                </t>
                <t t-else="">
                    <img class="user_icon" src="/web/image/res.partner/3/image_small" alt=""/>
                </t>
            </div>
            <div class="oe_chat_info">
                <div class="user_info">
                    <span class="oe_user_name mR10">
                        <t t-esc="info.name"></t>
                    </span>
                    <span class="oe_data_time">
                        <t t-esc="info.data_time"></t>
                    </span>
                </div>
                <div class="user_send_info">
                    <t t-esc="info.cont"></t>
                </div>
            </div>
        </div>
    </t>
    
    <t t-name="communication_tc_box_template">
        <div>
            
        </div>
    </t>

    <t t-name="communication_tc_template">
        <div class="message_warned dragContent layer_defined" t-attf-style="margin-left: {{widget.def_data.mgl}}px;margin-top: {{widget.def_data.mgt}}px">
            <h2 class="layui-layer-title dragArea cont_title">消息提醒
                <a class="close_bt" href="javascript:;"></a>
            </h2>
            <div class="cont">
                <t t-esc="widget.def_data.info.cont"></t>
            </div>
            <div class="bottom_bt">
                <a class="go_perform" t-attf-data_id="{{widget.def_data.info.id}}" href="javascript:;">去处理</a>
                <a class="cancel_bt" href="javascript:;">忽略</a>
            </div>
        </div>
    </t>
</templates>