<?xml version="1.0" encoding="UTF-8"?>

<templates xml:space="preserve">
    <t t-name="bus_real_info_template">
        <div t-attf-class="busRealStateModel line_{{widget.location_data.line_id}} busRealStateModel_{{widget.location_data.line_id}}_{{widget.location_data.car_num}} hide_model">
            <div t-attf-class="bus_real_info dragContent {{widget.location_data.fix_style}}" t-attf-style="position: absolute;left:{{widget.location_data.x}}px;top:{{widget.location_data.y}}px;z-index:{{widget.location_data.zIndex}}">
                <div class="closeBox dragArea">
                    <a class="close_bt" href="javascript:;"></a>
                </div>
                <div class="popupContent ">
                    <div class="vehicleInformation popupC">
                        <div class="titleInfo info">
                            <span class="licenseNumber fmax mR10">车号: <t t-esc="widget.data.license_number"></t></span>
                            <span class="licensePlate mR5"><t t-esc="widget.data.license_plate"></t></span>
                            <span class="driver mR5">司机：<t t-esc="widget.data.driver"></t></span>
                            <span class="crew">乘务：<t t-esc="widget.data.crew"></t></span>
                        </div>
                        <table>
                            <tr>
                                <td>乘客<span class="fmax num passenger_number"><t t-esc="widget.data.passenger"></t></span>人</td>
                                <td>满载率<span class="num full_load_rate"><t t-esc="widget.data.full_load_rate"></t></span></td>
                                <td>乘客满意度<span class="num satisfaction_rate"><t t-esc="widget.data.satisfaction_degree"></t></span></td>
                            </tr>
                            <tr>
                                <td>车厢<span class="fmax num inside_temperature"><t t-esc="widget.data.carriage_temperature"></t></span>度</td>
                                <td colspan="2">室外<span class="fmax num outside_temperature"><t t-esc="widget.data.outdoor_temperature"></t></span>度</td>
                            </tr>
                            <tr>
                                <td>后门<span class="fmax num back_door_status"><t t-esc="widget.data.back_door"></t></span></td>
                                <td>前门<span class="num fmax front_door_status"><t t-esc="widget.data.front_door"></t></span></td>
                                <td>当前车速<span class="num current_speed"><t t-esc="widget.data.speed"></t>KM/h</span></td>
                            </tr>
                            <tr>
                                <td>驶向<span class="fmax num direction"><t t-esc="widget.data.sail"></t></span></td>
                                <td>前车<span class="num front_distance"><t t-esc="widget.data.front"></t></span></td>
                                <td>后车<span class="num back_distance"><t t-esc="widget.data.after"></t></span></td>
                            </tr>
                            <tr>
                                <td>回场时间<span class="dangerTime num return_time"><t t-esc="widget.data.back_field_time"></t></span></td>
                                <td>下趟发车<span class="num next_trip_time bold"><t t-esc="widget.data.next_train_departure"></t></span></td>
                                <td>能源剩余里程<span class="num residual_clearance bold"><t t-esc="widget.data.residual_clearance"></t></span></td>
                            </tr>
                        </table>
                    </div>
                    <div class="carReport_info popupC">
                        <div class="titleInfo info infoR">
                            <div class="operation">
                                <div class="scene scene1">
                                    <button type="button" class="btn btn-primary dropdown-toggle sceneTitle" data-toggle="dropdown">操作 
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu operationNav set1" role="menu">
                                        <li><a class="back_to_the_field" href="javascript:;">手动回场</a></li>
                                        <li><a class="sign" href="javascript:;">签到</a></li>
                                        <!-- <li><a class="start" href="javascript:;">发车</a></li> -->
                                        <li><a class="handle_exceptions" href="javascript:;">处理异常状态</a></li>
                                        <li><a class="schedule_a_return" href="javascript:;">安排回场任务</a></li>
                                        <!-- <li><a class="can_line" href="javascript:;">CAN总线</a></li> -->
                                    </ul>
                                </div>
                                <div class="scene scene1">
                                    <button type="button" class="btn btn-primary dropdown-toggle sceneTitle" data-toggle="dropdown">交互 
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu operationNav set2" role="menu">
                                        <li><a class="news" href="javascript:;">消息</a></li>
                                        <!-- <li><a class="notice" href="javascript:;">通知</a></li> -->
                                        <li><a class="conversation" href="javascript:;">通话</a></li>

                                    </ul>
                                </div>
                                <a href="javascript:;" class="scene scene2 video">视频</a>
                                <a href="javascript:;" class="scene scene2 police">报警</a>
                            </div>
                            <div class="scene scene3 more">
                                <button type="button" class="btn btn-primary dropdown-toggle sceneTitle" data-toggle="dropdown">更多 
                                    <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu operationNav set1" role="menu">
                                    <li><a class="arrivalTime" href="javascript:;">到站时刻</a></li>
                                    <li><a class="InformationInteraction" href="javascript:;">信息交互</a></li>
                                    <li><a class="geographicalPosition" href="javascript:;">地理位置</a></li>
                                    <li><a class="moreInfo" href="javascript:;">更多信息</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="carReport">
                        
                        </div>
                    </div>
                </div>
                <div class="lineInfo">
                    <span class="lineRoad"><t t-esc="widget.location_data.line_name"></t></span>
                    第<span class="trip"><t t-esc="widget.data.trip"></t></span>趟，共<span class="total_trip"><t t-esc="widget.data.total_trip"></t></span>趟
                </div>
            </div>
        </div>
    </t>

    <t t-name="arrival_time_chart_template">
        <div class="carInfoScene arrival_time_chart hide_model" style="width:372px;height:330px;"></div>
    </t>

    <t t-name="arrival_time_video_template">
        <div class="carInfoScene arrival_time_video" style="text-align:center;font-size:24px;color:red;">暂时空白（没有监控接口）</div>
    </t>

    <t t-name="arrival_time_police_template">
        <div class="carInfoScene arrival_time_police">
            <h1 class="title"><!-- <img src="/lty_dispatch_desktop_widget/static/src/image/police.png" alt=""/> -->报警模式</h1>
            <p class="cont">启动报警模式后，该车会将报警模式前后10分钟及报警模式过程中的全部视频做保留，并上传至视频流媒体服务器。配合后续调查取证</p>
            <a class="onBt" href="javascript:;">启动报警模式</a>
            <ul class="tel">
                <li>110</li>
                <li>120</li>
                <li>119</li>
            </ul>
        </div>
    </t>

    <t t-name="arrival_time_more_info_template">
        <div class="carInfoScene more_info_box">
            <div class="more_info_part info_1">
                <div class="info_title">
                    <span class="title ">维保状态</span>
                </div>
                <div class="maintenance_status">
                    <ul class="info_status_nav">
                        <li class="oe_active">
                            <span class="arrow_first"><span></span></span>
                            <span class="label">待修</span>
                            <span class="arrow"><span></span></span>
                        </li>
                    
                        <li class="">
                            <span class="label">维修</span>
                            
                            <span class="arrow"><span></span></span>
                        </li>
                    
                        <li class="">
                            <span class="label">检验</span>
                            
                            <span class="arrow"><span></span></span>
                        </li>
                        <li class="">
                            <span class="label">完工</span>
                            
                            <span class="arrow"><span></span></span>
                        </li>
                    </ul>
                </div>
                <div class="info_cont">
                    <table class="info_status_cont maintenance_cont">
                        <tr>
                            <td>报修单号</td>
                            <td>BXD20923</td>
                            <td>保修时间</td>
                            <td>4/23</td>
                        </tr>
                        <tr>
                            <td>报修人</td>
                            <td>罗麒麟</td>
                            <td>预计出厂</td>
                            <td>4/25</td>
                        </tr>
                        <tr>
                            <td>维修单号</td>
                            <td>--</td>
                            <td>维修人</td>
                            <td>--</td>
                        </tr>
                        <tr>
                            <td>故障原因</td>
                            <td>传动轴断裂</td>
                            <td>维修方法</td>
                            <td>更换</td>
                        </tr>
                        <tr>
                            <td>技术状况</td>
                            <td>故障</td>
                            <td>回场时间</td>
                            <td>--</td>
                        </tr>
                    </table>
                </div>
                <div class="info_bt">
                    <a class="contact_bt" href="javascript:;">联系负责人</a>
                    <a class="time_bt" href="javascript:;">设定出厂时间</a>
                </div>
            </div>
            <div class="more_info_part info_2">
                <div class="info_title">
                    <span class="title ">维保记录</span>
                </div>
                <div class="info_cont">
                    <table class="info_status_cont record_cont">
                        <tr>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="more_info_part info_2">
                <div class="info_title">
                    <span class="title ">行车记录</span>
                </div>
                <div class="info_cont">
                    <table class="info_status_cont record_cont">
                        <tr>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="more_info_part info_2">
                <div class="info_title">
                    <span class="title ">安全日志</span>
                </div>
                <div class="info_cont">
                    <table class="info_status_cont record_cont">
                        <tr>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="more_info_part info_2">
                <div class="info_title">
                    <span class="title ">掉线日志</span>
                </div>
                <div class="info_cont">
                    <table class="info_status_cont record_cont">
                        <tr>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </t>

    <t t-name="arrival_time_map_template">
        <div class="carInfoScene arrival_time_map hide_model" >
        </div>
    </t>

    <t t-name="passenger_flow_template">
        <div t-attf-siteId="{{widget.location_data.site_id}}" t-attf-class="passengerDelayModel line_{{widget.location_data.line_id}} passengerDelayModel_{{widget.location_data.line_id}}_{{widget.location_data.site_id}} hide_model">
            <div class="passenger_flow_trend_chart dragContent" t-attf-style="position: absolute;left:{{widget.location_data.x}}px;top:{{widget.location_data.y}}px;z-index:{{widget.location_data.zIndex}}">
                <div class="closeBox dragArea"><a class="close_bt" href="javascript:;"></a></div>
                <t t-foreach="widget.passenger_data" t-as="passenger">
                    <div t-attf-class="trend_chart trend_chart_single" t-if="passenger.name">
                        <div class="top_title"> 
                            <span class="name mR10">
                                <t t-esc="passenger.name"></t>
                            </span>
                            <span class="mR10">
                                <t t-esc="passenger.line_car.join()"></t>
                            </span>客流走势图
                            <a class="express_bt" href="javascript:;">发出越站客车</a>
                        </div>
                        <div class="passenger_flow_cont"></div>
                    </div>
                    <div t-attf-class="trend_chart trend_chart_summary" t-else="">
                        <div class="top_title">
                            <span class="mR10">
                                <t t-esc="passenger.line_car.join()"></t>
                            </span>汇总客流走势图
                        </div>
                        <div class="passenger_flow_cont"></div>
                    </div>
                </t>
            </div>
        </div>
    </t>

    <t t-name="trend_chart_template">
        <div class="trend_chart_info">
            <div class="trend_chart_map" style="width:466px;height:250px;" ></div>
            <ul class="map_botton_info">
                <li>
                    <span class="num red">
                        <t t-if="widget.passenger_data.length &gt; 0">
                            <t t-esc="widget.passenger_data[1].value[2]"></t>
                        </t>
                        <t t-else="">
                            &#160;&#160;
                        </t>
                    </span>滞站候车
                </li>
                <li>
                    <span class="num blue">
                        <t t-if="widget.passenger_data.length &gt; 0">
                            <t t-esc="widget.passenger_data[2].value[1]"></t>
                        </t>
                        <t t-else="">
                            &#160;&#160;
                        </t>
                    </span>0.5h上车</li>
                <li>
                    <span class="num gray">
                        <t t-if="widget.passenger_data.length &gt; 0">
                            <t t-esc="widget.passenger_data[3].value[1]"></t>
                        </t>
                        <t t-else="">
                            &#160;&#160;
                        </t>
                    </span>0.5h下车
                </li>
            </ul>
        </div>
    </t>

    <t t-name="express_train_template">
        <div>
            <div class="express_train_box">
                <header class="title">配发越站快车</header>
                <form action="" class="express_train_content" id="express_train_content_id">
                    <div class="express_train_part">
                        <table class="express_train_info">
                            <tr>
                                <td>
                                    <label class="labw"><input type="radio" class="bus_mode" name="bus_mode" value="vehicle" />从机动车配车</label>
                                    <label class="labw"><input class="bus_mode" type="radio" name="bus_mode" value="waiting_bus" />从待班车配车</label>
                                </td>
                                <td>
                                    <input type="text" class="express_time" required="required" t-att-value="widget.express_info.arrival_time"/>抵达<span class="name">
                                        <t t-esc="widget.express_info.name"></t>
                                    </span>
                                </td>
                            </tr>
                        </table>
                        <select name="bus" class="select_bus" required="required">
                            <option value="">请选择</option>
                            <t t-foreach="widget.express_info.vehicle" t-as="vehicle">
                                <option t-att-value="vehicle.id" class="opset vehicle_op">
                                    <t t-esc="vehicle.name"></t>
                                </option>
                            </t>
                            <t t-foreach="widget.express_info.waiting_bus" t-as="waiting_bus">
                                <option t-att-value="waiting_bus.id" class="waiting_bus_op opset">
                                    <t t-esc="waiting_bus.name"></t>
                                </option>
                            </t>
                        </select>
                    </div>
                    <div class="select_part">
                        <title class="title">经停方式</title>
                        <table class="select_part_info">
                            <tr>
                                <td>
                                    <label class="labw">
                                        <input type="radio" class="stopping_mode" name="stopping_mode" value="whole"/>全部经停
                                    </label>
                                </td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>
                                    <label class="labw"><input type="radio" class="stopping_mode" name="stopping_mode" value="skip"/>越站经停</label>
                                </td>
                                <td>
                                    <div class="showInfo">
                                        <p class="skip_info">
                                            首站捡客后越至第<input min="1" type="text" t-att-value="widget.express_info.skip"/>站开始全部经停
                                        </p>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td valign="top">
                                    <label class="labw"><input type="radio" class="stopping_mode" name="stopping_mode" value="station"/>选站经停</label>
                                </td>
                                <td valign="top">
                                    <div class="showInfo">
                                        <table class="station_info">
                                            <t t-foreach="widget.express_info.station" t-as="station_list">
                                                <tr>
                                                    <t t-foreach="station_list" t-as="station">
                                                        <td>
                                                            <label>
                                                                <input type="checkbox" t-att-value="station.id" />
                                                                <t t-esc="station.station_id[1].split('/')[0]"></t>
                                                            </label>
                                                        </td>
                                                    </t>
                                                </tr>
                                            </t>
                                        </table>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </form>
                <a href="javascript:;" class="sendbt">发车</a>
                <script type="text/javascript">
                    $(function(){
                        $(".express_train_box .express_train_info").on("change", ".bus_mode", function(){
                            var v = this.value;
                            $(".express_train_box .express_train_part select").val('');
                            $(".express_train_box .express_train_part select .opset").hide();
                            $(".express_train_box .express_train_part select ."+v+"_op").show();
                        });
                        $(".express_train_box .select_part_info").on("click", ".stopping_mode", function(){
                            $(".express_train_box .select_part_info .showInfo").hide();
                            var stopping_mode_v= this.value;
                            $(this).parents("tr").find(".showInfo").show();
                        });
                    })
                </script>
            </div>
        </div>
    </t>

    <t t-name="plan_display_template">
        <div t-attf-class="linePlanParkOnlineModel line_{{widget.location_data.line_id}} linePlanParkOnlineModel_{{widget.location_data.line_id}} hide_model">
            <div class="plan_display dragContent" t-attf-style="position: absolute;left:{{widget.location_data.x}}px;top:{{widget.location_data.y}}px;z-index:{{widget.location_data.zIndex}}">
                <div class="closeBox dragArea">
                    <div class="title">线路
                        <span class="num" t-attf-line_id="{{widget.location_data.line_id}}"><t t-esc="widget.location_data.line_name"></t></span>
                    </div>
                    <a class="close_bt" href="javascript:;"></a>
                </div>
                <div class="plan_group">
                </div>
            </div>
        </div>
    </t>

    <t t-name="vehicles_plan_template">
        <div class="plan_box vehicle_box">
            <div class="section_plan_cont bus_plan" t-attf-direction="{{widget.plan_data.direction}}">
                <div class="title">
                    <t t-if="widget.plan_data.direction==0">上行</t>
                    <t t-else="">下行</t>
                    计划
                </div>
                <table class="content_tb">
                    <tr class="th">
                        <th class="pL">状态</th>
                        <th>计划</th>
                        <th>到达</th>
                        <th>车辆</th>
                        <th>司机</th>
                        <th class="pR">状态</th>
                    </tr>
                    <t t-foreach="widget.plan_data.data_list" t-as="item">
                        <tr t-attf-class="point {{item.fixPlanClass}}" t-attf-pid="{{item.id}}" t-attf-direction="{{item.direction}}" t-attf-planRunTime="{{new Date(item.planRunTime).getTime()}}">
                            <td class="pL">
                                <span t-attf-st="{{item.sendToScreen}}" t-attf-class="icon sendToScreen icon_{{item.sendToScreen}}"></span>
                                <span t-attf-st="{{item.sendToBus}}" t-attf-class="icon sendToBus icon_{{item.sendToBus}}"></span>
                            </td>
                            <td class="planRunTime"><t t-esc="new Date(item.planRunTime).toTimeString().slice(0,5).replace('Inval','')"></t></td>
                            <td class="planReachTime"><t t-esc="new Date(item.planReachTime).toTimeString().slice(0,5).replace('Inval','')"></t></td>
                            <td class="selfId"><t t-esc="item.selfId"></t></td>
                            <td class="driverName"><t t-esc="item.driverName"></t></td>
                            <td class="pR planState">
                                <t t-if="item.planState == 0">
                                    待发
                                </t>
                                <t t-elif="item.planState == 1">
                                    待发
                                </t>
                                <t t-elif="item.planState == 2">
                                    已执行
                                </t>
                                <t t-else="">
                                    已取消
                                </t>
                            </td>
                        </tr>
                    </t>
                </table>
            </div>
            <div class="bottom_bt">
                <a class="cancel" href="javascript:;">取消</a>
                <a class="fix" href="javascript:;">修改</a>
                <a class="forward_lead move_bt" name="1" href="javascript:;">前移</a>
                <a class="retroposition move_bt" name="2" href="javascript:;">后移</a>
                <a class="adjust" href="javascript:;">调换</a>
                <a class="inquire" href="javascript:;">查询</a>
            </div>
        </div>
    </t>

    <t t-name="vehicles_yard_template">
        <div class="yard_box vehicle_box">
            <div class="section_plan_cont bus_yard" t-attf-inField="{{widget.yard_data.inField}}" t-attf-direction="{{widget.yard_data.direction}}">
                <div class="title">
                    <t t-if="widget.yard_data.direction==0">上行</t>
                    <t t-else="">下行</t>
                    车场
                </div>
                <table class="content_tb">
                    <tr class="th">
                        <th class="pL">状态</th>
                        <th>计划</th>
                        <th>车辆</th>
                        <th>线路</th>
                        <th class="pR">回场</th>
                        <!-- <th class="pR">停车</th> -->
                    </tr>
                    <t t-foreach="widget.yard_data.data_list" t-as="item">
                        <tr class="point" t-attf-pid="{{item.id}}" t-attf-direction="{{item.direction}}" t-attf-planRunTime="{{new Date(item.planRunTime).getTime()}}" t-attf-planReachTime="{{new Date(item.realReachTime).getTime()}}" >
                            <td class="pL td_w1">
                                <span t-attf-st="{{item.checkOut}}" t-attf-class="icon checkOut icon1_{{item.checkOut}}"></span>
                                <span t-attf-st="{{item.runState}}" t-attf-class="icon runState icon2_{{item.runState}}"></span>
                                <t t-if="item.carStateId != 0">
                                    <span t-attf-st="{{item.carStateId}}" t-attf-class="icon carStateIdIcon carStateIdIcon_{{item.carStateId}}"></span>
                                </t>
                                <t t-else="">
                                    <span t-attf-st="{{item.carStateId}}" t-attf-class="icon disNoneIcon carStateIdIcon carStateIdIcon_{{item.carStateId}}"></span>
                                </t>
                                <t t-if="['1001', '1002', '1003', '1004', '1005', '1006', '1012'].indexOf(item.task)!=-1">
                                    <span t-attf-st="{{item.task}}" t-attf-class="icon taskIcon"></span>
                                </t>
                                <t t-else="">
                                    <span t-attf-st="{{item.task}}" t-attf-class="icon taskIcon disNoneIcon"></span>
                                </t>
                            </td>
                            <td class="planRunTime">
                                <t t-if="item.planRunTime">
                                    <t t-esc="new Date(item.planRunTime).toTimeString().slice(0,5).replace('Inval','')"></t>
                                </t>
                                <t t-else="">
                                    
                                </t>
                            </td>
                            <td class="carNum"><t t-esc="item.carNum"></t></td>
                            <td class="lineName" t-attf-title="{{item.lineName}}"><t t-esc="item.lineName"></t></td>
                            <td class="realReachTime pR">
                                <t t-if="item.realReachTime">
                                    <t t-esc="new Date(item.realReachTime).toTimeString().slice(0,5).replace('Inval','')"></t>
                                </t>
                                <t t-else="">
                                    
                                </t>
                            </td>
                            <!-- <td class="pR stopTime">
                                <t t-if="item.stopTime">
                                    <t t-esc="item.stopTime"></t>
                                </t>
                                <t t-else="">
                                    0
                                </t>
                            </td> -->
                        </tr>
                    </t>
                </table>
            </div>
        </div>
    </t>

    <t t-name="vehicles_transit_template">
        <div class="yard_box vehicle_box">
            <div class="section_plan_cont bus_transit" t-attf-inField="{{widget.transit_data.inField}}" t-attf-direction="{{widget.transit_data.direction}}">
                <div class="title">
                    <t t-if="widget.transit_data.direction==0">上行</t>
                    <t t-else="">下行</t>
                    在途
                </div>
                <table class="content_tb">
                    <tr class="th">
                        <th class="pL">状态</th>
                        <th><t t-if="widget.transit_data.direction==0">下行</t><t t-else="">上行</t>计划</th>
                        <th>车辆</th>
                        <th>线路</th>
                        <th class="td_w3">回场</th>
                        <th class="pR">停车</th>
                    </tr>
                    <t t-foreach="widget.transit_data.data_list" t-as="item">
                        <tr class="point" t-attf-pid="{{item.id}}" t-attf-direction="{{item.direction}}" t-attf-planRunTime="{{new Date(item.planRunTime).getTime()}}" t-attf-planReachTime="{{new Date(item.planReachTime).getTime()}}">
                            <td class="pL td_w1">
                                <span t-attf-st="{{item.checkOut}}" t-attf-class="icon checkOut icon1_{{item.checkOut}}"></span>
                                <span t-attf-st="{{item.runState}}" t-attf-class="icon runState icon2_{{item.runState}}"></span>
                                <t t-if="item.carStateId != 0">
                                    <span t-attf-st="{{item.carStateId}}" t-attf-class="icon carStateIdIcon carStateIdIcon_{{item.carStateId}}"></span>
                                </t>
                                <t t-else="">
                                    <span t-attf-st="{{item.carStateId}}" t-attf-class="icon disNoneIcon carStateIdIcon carStateIdIcon_{{item.carStateId}}"></span>
                                </t>
                                <t t-if="['1001', '1002', '1003', '1004', '1005', '1006', '1012'].indexOf(item.task)!=-1">
                                    <span t-attf-st="{{item.task}}" t-attf-class="icon taskIcon"></span>
                                </t>
                                <t t-else="">
                                    <span t-attf-st="{{item.task}}" t-attf-class="icon taskIcon disNoneIcon"></span>
                                </t>
                            </td>
                            <td class="planRunTime">
                                <t t-if="item.planRunTime">
                                    <t t-esc="new Date(item.planRunTime).toTimeString().slice(0,5).replace('Inval','')"></t>
                                </t>
                                <t t-else="">
                                    
                                </t>
                            </td>
                            <td class="carNum"><t t-esc="item.carNum"></t></td>
                            <td class="lineName" t-attf-title="{{item.lineName}}"><t t-esc="item.lineName"></t></td>
                            <td class="planReachTime td_w3">
                                <t t-if="item.planReachTime">
                                    <t t-esc="new Date(item.planReachTime).toTimeString().slice(0,5).replace('Inval','')"></t>
                                </t>
                                <t t-else="">
                                    
                                </t>
                            </td>
                            <td class="stopTime">
                                <t t-if="item.stopTime">
                                    <t t-esc="item.stopTime"></t>
                                </t>
                                <t t-else="">
                                    0
                                </t>
                            </td>
                        </tr>
                    </t>
                </table>
            </div>
        </div>
    </t>

    <t t-name="plan_display_set_template">
        <div t-attf-class="plan_display_set set_{{widget.location_data.pid}}" t-attf-model="{{widget.location_data.model}}" t-attf-plan_pid="{{widget.location_data.pid}}" t-attf-direction="{{widget.location_data.direction}}" t-attf-style="position: absolute;left:{{widget.location_data.x}}px;top:{{widget.location_data.y}}px;z-index:{{widget.location_data.zIndex}}">
            <div class="setBox">
                <ul class="nav">
                    <t t-foreach="widget.location_data.data_list" t-as="item">
                        <li t-attf-class="{{item.en_name}}">
                            <t t-esc="item.name"></t>
                        </li>
                    </t>
                </ul>
            </div>
        </div>
    </t>

    <t t-name="plan_display_add_plan_template">
        <div class="modal customModal customModalAddPlan" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel" id="identifier">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title" id="gridSystemModalLabel">添加计划</h4>
                    </div>
                    <div class="modal-body" t-attf-workDate="{{widget.set_data.workDate}}"  t-attf-gprsId="{{widget.set_data.gprsId}}" >
                        <table>
                            <tr>
                                <td class="planTime">
                                    计划时间&#160;
                                    <input class="w1 required_field" t-attf-value="{{new Date().getHours()}}" type="number" min="0" max="24" />&#160;:&#160;<input class="w1 required_field" t-attf-value="{{new Date().getMinutes()}}" type="number" min="0" max="59" autofocus="autofocus" />
                                </td>
                                <td>
                                    车辆编号&#160;
                                    <input class="w2 carNum required_field" data-provide="typeahead" autocomplete="off" t-attf-value="{{widget.set_data.selfId}}" type="text"/>
                                    <input class="onBoardId" type="hidden" t-attf-value="{{widget.set_data.onBoardId}}" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    计划趟次&#160;
                                    <select name="" class="w2 planCount required_field" id="">
                                        <option value="0.5" selected="selected">0.5</option>
                                        <option value="1">1</option>
                                    </select>
                                </td>
                                <td>
                                    司机工号&#160;
                                    <input class="w2 workerId workerIdSearch required_field" t-attf-value="{{widget.set_data.workerId}}" type="text" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    线&#160;&#160;&#160;&#160;&#160;&#160;&#160;路&#160;
                                    <select name="" class="w2 line required_field" id="">
                                        <option selected="selected" t-attf-value="{{widget.set_data.lineId}}">
                                            <t t-esc="widget.set_data.lineName"></t>
                                        </option>
                                    </select>
                                </td>
                                <td>
                                    司机名称&#160;
                                    <input class="w2 driverName driverNameSearch required_field" min="1" t-attf-value="{{widget.set_data.driverName}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    行驶方向&#160;
                                    <select name="" class="w2 direction required_field" id="">
                                        <t t-if="widget.set_data.direction==0">
                                            <option value="0" selected="selected">上行</option>
                                            <option value="1">下行</option>
                                        </t>
                                        <t t-else="">
                                            <option value="0">上行</option>
                                            <option value="1" selected="selected">下行</option>
                                        </t>
                                    </select>
                                </td>
                                <td>
                                    乘务员工号&#160;
                                    <input class="w2 train trainSearch" t-attf-value="{{widget.set_data.trainId}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    计划里程&#160;
                                    <input class="w2 planKm required_field" type="number" t-attf-value="{{widget.set_data.planKm}}" min="1" />
                                </td>
                                <td>
                                    乘务员姓名&#160;
                                    <input class="w2 trainName trainNameSearch" t-attf-value="{{widget.set_data.trainName}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    运行属性&#160;
                                    <select name="" class="w2 addType required_field" id="">
                                        <option value="0" selected="selected">正常</option>
                                        <option value="1">包车</option>
                                        <option value="2003">大站</option>
                                        <option value="2004">区间车</option>
                                    </select>
                                </td>
                                <td>
                                    &#160;
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    添加原因&#160;
                                    <select name="" class="w2 addReason required_field" id="">
                                        <option value="1001" selected="selected">调节发车</option>
                                        <option value="1002">无进出场信号</option>
                                        <option value="1003">公司指派</option>
                                        <option value="1004">领导要求</option>
                                        <option value="1005">车辆不足</option>
                                    </select>
                                </td>
                                <td>
                                    &#160;
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <textarea name="" class="remark" placeholder="请输入添加原因说明" rows="4"></textarea>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">确定</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="manual_start_template">
        <div class="modal customModal customModalAddPlan driverCheckIn" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel" id="identifier">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title" id="gridSystemModalLabel">手动发车</h4>
                    </div>
                    <div class="modal-body" t-attf-workDate="{{widget.set_data.workDate}}" t-attf-gprsId="{{widget.set_data.gprsId}}">
                        <table>
                            <tr>
                                <td>
                                    车辆编号&#160;
                                    <input class="w6 carNum" disabled="disabled" t-attf-value="{{widget.set_data.selfId}}" type="text"/>
                                    <input class="onBoardId" t-attf-value="{{widget.set_data.onBoardId}}" type="hidden" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    线&#160;&#160;&#160;&#160;&#160;&#160;&#160;路&#160;
                                    <select name="" class="w6 line" disabled="disabled" id="">
                                        <option selected="selected" t-attf-value="{{widget.set_data.lineId}}">
                                            <t t-esc="widget.set_data.lineName"></t>
                                        </option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    行车方向&#160;
                                    <select name="" disabled="disabled" class="w6 direction" id="">
                                        <t t-if="widget.set_data.direction==0">
                                            <option value="0" selected="selected">上行</option>
                                            <option value="1">下行</option>
                                        </t>
                                        <t t-else="">
                                            <option value="0">上行</option>
                                            <option value="1" selected="selected">下行</option>
                                        </t>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    实际发车&#160;
                                    <input class="w6 realRunTime required_field" t-attf-value="{{new Date(widget.set_data.planRunTime).toTimeString().slice(0, 5)}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    异常原因&#160;
                                    <select name="" class="w6 abnormal required_field" id="">
                                        <option value="没信号" selected="selected">没信号</option>
                                        <option value="忘记">忘记</option>
                                    </select>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">确定</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="manual_return_template">
        <div t-attf-class="modal customModal customModalAddPlan driverCheckIn styleModel_{{widget.styleModel}}" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel" id="identifier">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title" id="gridSystemModalLabel">手动返回</h4>
                    </div>
                    <div class="modal-body" t-attf-workDate="{{widget.set_data.workDate}}" t-attf-gprsId="{{widget.set_data.gprsId}}">
                        <table>
                            <tr>
                                <td>
                                    车辆编号&#160;
                                    <input class="w6 carNum" disabled="disabled" t-attf-value="{{widget.set_data.carNum}}" type="text"/>
                                    <input class="onBoardId" t-attf-value="{{widget.set_data.onBoardId}}" type="hidden" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    线&#160;&#160;&#160;&#160;&#160;&#160;&#160;路&#160;
                                    <select name="" class="w6 line" disabled="disabled" id="">
                                        <option selected="selected" t-attf-value="{{widget.set_data.lineId}}">
                                            <t t-esc="widget.set_data.lineName"></t>
                                        </option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    行车方向&#160;
                                    <select name="" disabled="disabled" class="w6 direction" id="">
                                        <t t-if="widget.set_data.direction==0">
                                            <option value="0" selected="selected">上行</option>
                                            <option value="1">下行</option>
                                        </t>
                                        <t t-else="">
                                            <option value="0">上行</option>
                                            <option value="1" selected="selected">下行</option>
                                        </t>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    返回时间&#160;
                                    <input class="w6 realReachTime required_field" t-attf-value="{{new Date(widget.set_data.realReachTime).toTimeString().slice(0, 5).replace('Inval', '')}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    回场方向&#160;
                                    <select name="" class="w6 direction retrun_direction required_field" id="">
                                        <t t-if="widget.set_data.direction==0">
                                            <option value="0" selected="selected">上行</option>
                                            <option value="1">下行</option>
                                        </t>
                                        <t t-else="">
                                            <option value="0">上行</option>
                                            <option value="1" selected="selected">下行</option>
                                        </t>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    返回方式&#160;
                                    <select name="" class="w6 opType required_field" id="">
                                        <option value="0" selected="selected">正常返回</option>
                                        <option value="1">异常点返回</option>
                                    </select>
                                </td>
                            </tr>
                            <tr style="display: none;">
                                <td>
                                    是否排班&#160;
                                    <select name="" class="w6 type" id="">
                                        <option value="0">返回不排班</option>
                                        <option value="1" selected="selected">返回自动排班</option>
                                    </select>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">确定</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="plan_display_cancel_plan_template">
        <div class="modal customModal customModalAddPlan" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel" id="identifier">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title" id="gridSystemModalLabel">取消计划</h4>
                    </div>
                    <div class="modal-body" t-attf-workDate="{{widget.set_data.workDate}}" t-attf-gprsId="{{widget.set_data.gprsId}}">
                        <table>
                            <tr>
                                <td>
                                    计划时间&#160;
                                    <input class="w2 planTime" disabled="disabled" t-attf-value="{{new Date(widget.set_data.planRunTime).toTimeString().slice(0, 5)}}" type="time" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    车辆编号&#160;
                                    <input class="w2 carNum" disabled="disabled" t-attf-value="{{widget.set_data.selfId}}" type="text"/>
                                    <input class="onBoardId" t-attf-value="{{widget.set_data.onBoardId}}" type="hidden" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    线&#160;&#160;&#160;&#160;&#160;&#160;&#160;路&#160;
                                    <select name="" class="w2 line" disabled="disabled" id="">
                                        <option selected="selected" t-attf-value="{{widget.set_data.lineId}}">
                                            <t t-esc="widget.set_data.lineName"></t>
                                        </option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    行车方向&#160;
                                    <select name="" class="w2 direction" disabled="disabled" id="">
                                        <t t-if="widget.set_data.direction==0">
                                            <option value="0" selected="selected">上行</option>
                                            <option value="1">下行</option>
                                        </t>
                                        <t t-else="">
                                            <option value="0">上行</option>
                                            <option value="1" selected="selected">下行</option>
                                        </t>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    取消原因&#160;
                                    <select name="" class="w2 addReason required_field" id="">
                                        <!-- <option value="2082">Breakdown reason 1</option> -->
                                        <!-- <option value="2083">Breakdown reason2</option> -->
                                        <option value="2084">轮胎</option>
                                        <option value="2085">发动机异常</option>
                                        <option value="2086">故障</option>
                                        <option value="100">司机请假</option>
                                        <option value="101">路堵</option>
                                        <!-- <option value="102">车辆故障</option> -->
                                        <option value="103">被扣车</option>
                                        <option value="104">交通事故</option>
                                        <option value="105">其他</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <textarea class="remark" name="" placeholder="请输入添加原因说明" rows="4"></textarea>
                                </td>
                            </tr>
                            <tr class="tmp">
                                <td>
                                    <div class="fgx"></div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="selectType">
                                        <span typeName="1" class="ckIcon"></span>前移方式批量调整，相同方向修改&#160;<input class="w5 forwardModeCount"  type="number" min="1" />&#160;条计划
                                        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                        前移&#160;<input class="w5 forwardInterval" type="number" min="1" />&#160;分钟
                                        <br/>
                                        <br/>
                                        <span typeName="2" class="ckIcon"></span>匀点方式批量调整，相同方向修改&#160;<input class="w5 avgModeCount"  type="number" min="1" />&#160;的计划
                                        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                        起始时间&#160;<input class="w5 avgBegTime" type="time" min="1" />
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">确定</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="plan_display_fix_plan_template">
        <div class="modal customModal customModalAddPlan" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel" id="identifier">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title" id="gridSystemModalLabel">修改计划</h4>
                    </div>
                    <div class="modal-body" t-attf-workDate="{{widget.set_data.workDate}}" t-attf-gprsId="{{widget.set_data.gprsId}}">
                        <table>
                            <tr>
                                <td>
                                    计划时间&#160;
                                    <input class="w2 planTime" t-attf-value="{{new Date(widget.set_data.planRunTime).toTimeString().slice(0, 5)}}" type="time" />
                                    <!-- <input class="w2 planTime" t-attf-value="{{widget.set_data.planRunTime}}" type="hidden" /> -->
                                </td>
                                <td>
                                    车&#160;&#160;&#160;&#160;&#160;&#160;&#160;辆&#160;
                                    <input class="w2 carNum required_field" t-attf-value="{{widget.set_data.selfId}}" type="text"/>
                                    <input class="onBoardId" t-attf-value="{{widget.set_data.onBoardId}}" type="hidden" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    线&#160;&#160;&#160;&#160;&#160;&#160;&#160;路&#160;
                                    <select name="" class="w2 line" disabled="disabled" id="">
                                        <option selected="selected" t-attf-value="{{widget.set_data.lineId}}">
                                            <t t-esc="widget.set_data.lineName"></t>
                                        </option>
                                    </select>
                                </td>
                                <td>
                                    司&#160;&#160;&#160;&#160;&#160;&#160;&#160;机&#160;
                                    <input class="w2 driverName driverNameSearch required_field"  t-attf-value="{{widget.set_data.driverName}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    运行线路&#160;
                                    <select name="" class="w2 runGprs" disabled="disabled" id="">
                                        <option selected="selected" t-attf-value="{{widget.set_data.runGprsId}}">
                                            <t t-esc="widget.set_data.runLineName"></t>
                                        </option>
                                    </select>
                                </td>
                                <td>
                                    司机工号&#160;
                                    <input class="w2 workerId workerIdSearch required_field" t-attf-value="{{widget.set_data.workerId}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    趟&#160;&#160;&#160;&#160;&#160;&#160;&#160;次&#160;
                                    <select name="" class="w2 planCount required_field" id="">
                                        <option value="0.5" selected="selected">0.5</option>
                                        <option value="1">1</option>
                                    </select>
                                </td>
                                <td>
                                    乘务员&#160;
                                    <input class="w2 trainName trainNameSearch" t-attf-value="{{widget.set_data.trainName}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    方&#160;&#160;&#160;&#160;&#160;&#160;&#160;向&#160;
                                    <select name="" class="w2 direction" disabled="disabled" id="">
                                        <t t-if="widget.set_data.direction==0">
                                            <option value="0" selected="selected">上行</option>
                                            <option value="1">下行</option>
                                        </t>
                                        <t t-else="">
                                            <option value="0">上行</option>
                                            <option value="1" selected="selected">下行</option>
                                        </t>
                                    </select>
                                </td>
                                <td>
                                    乘务员工号&#160;
                                    <input class="w2 train trainSearch" t-attf-value="{{widget.set_data.trainId}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    调整原因&#160;
                                    <select name="" class="w2 addReasonId required_field" id="">
                                        <option value="1001" selected="selected">无进出场信号</option>
                                        <option value="1002">公司指派</option>
                                        <option value="1004">司机原因</option>
                                    </select>
                                </td>
                                <td>
                                    计划里程&#160;
                                    <input class="w2 planKm" disabled="disabled" type="number" t-attf-value="{{widget.set_data.planKm}}" min="1" />
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    运行属性&#160;
                                    <select name="" class="w2 addType required_field" id="">
                                        <option value="0" selected="selected">正常</option>
                                        <option value="1">包车</option>
                                        <option value="2003">大站</option>
                                        <option value="2004">区间车</option>
                                    </select>
                                </td>
                            </tr>
                            <tr class="tmp">
                                <td colspan="2">
                                    <div class="fgx"></div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="selectType">
                                        <span typeName="1" class="ckIcon"></span>批量调整同方向&#160;<input class="w3 changePlanCount"  type="number" min="1" />&#160;计划
                                        <br/>
                                        <br/>
                                        <span typeName="2" class="ckIcon"></span>批量调整&#160;<input class="w5 startTime"  type="time" />~<input class="w5 endTime"  type="time" />&#160;的计划
                                    </div>
                                </td>
                                <td>
                                    间&#160;&#160;&#160;&#160;&#160;&#160;&#160;隔&#160;&#160;<input class="w4 changeInterval" type="number" min="1" />&#160;分钟
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">确定</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="adjust_plan_template">
        <div class="modal customModal customModalAddPlan driverCheckIn" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel" id="identifier">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title" id="gridSystemModalLabel">计划调换</h4>
                    </div>
                    <div class="modal-body" t-attf-workDate="{{widget.set_data.workDate}}" t-attf-gprsId="{{widget.set_data.gprsId}}">
                        <table>
                            <tr>
                                <td>
                                    调换计划时间
                                </td>
                                <td>
                                    <input class="w2 planTime" disabled="disabled" t-attf-value="{{new Date(widget.set_data.planRunTime).toTimeString().slice(0, 5)}}" type="time" />
                                    <input type="hidden" class="pid" t-attf-value="{{widget.set_data.id}}" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    车辆编号
                                    
                                </td>
                                <td>
                                    <input class="w2 carNum" disabled="disabled" t-attf-value="{{widget.set_data.selfId}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    司&#160;&#160;&#160;&#160;&#160;&#160;&#160;机
                                </td>
                                <td>
                                    <input class="w2 driverName" disabled="disabled"  t-attf-value="{{widget.set_data.driverName}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    司机工号
                                </td>
                                <td>
                                    <input class="w2 workerId" disabled="disabled" t-attf-value="{{widget.set_data.workerId}}" type="text" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    乘&#160;&#160;务&#160;&#160;员
                                </td>
                                <td>
                                    <input class="w2 trainName" disabled="disabled" t-attf-value="{{widget.set_data.trainName}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    乘务员工号
                                </td>
                                <td>
                                    <input class="w2 train" disabled="disabled" t-attf-value="{{widget.set_data.trainId}}" type="text"/>
                                </td>
                            </tr>
                            <tr class="tmp">
                                <td colspan="2">
                                    <div class="fgx"></div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    被调换计划时间
                                </td>
                                <td>
                                    <input class="w2 planTime_switched planTimeS required_field" type="text" />
                                    <input type="hidden" class="switched_pid" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    车辆编号
                                </td>
                                <td>
                                    <input class="w2 carNum_switched" disabled="disabled" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    司&#160;&#160;&#160;&#160;&#160;&#160;&#160;机
                                </td>
                                <td>
                                    <input class="w2 driverName_switched" disabled="disabled" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    司机工号
                                </td>
                                <td>
                                    <input class="w2 workerId_switched" disabled="disabled" type="text" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    乘&#160;&#160;务&#160;&#160;员
                                </td>
                                <td>
                                    <input class="w2 trainName_switched" disabled="disabled" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    乘务员工号
                                </td>
                                <td>
                                    <input class="w2 train_switched" disabled="disabled" type="text"/>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">确定</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="batch_fix_switch_template">
        <div class="modal customModal customModalAddPlan" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel" id="identifier">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title" id="gridSystemModalLabel">批量更改车辆或司机</h4>
                    </div>
                    <div class="modal-body" t-attf-workDate="{{widget.set_data.workDate}}" t-attf-gprsId="{{widget.set_data.gprsId}}">
                        <table>
                            <tr>
                                <td>
                                    车&#160;&#160;&#160;&#160;&#160;&#160;&#160;辆&#160;
                                    <input class="w2" disabled="disabled" t-attf-value="{{widget.set_data.selfId}}" type="text"/>
                                </td>
                                <td>
                                    线&#160;&#160;&#160;&#160;&#160;&#160;&#160;路&#160;
                                    <select name="" class="w2 line" disabled="disabled" id="">
                                        <option selected="selected" t-attf-value="{{widget.set_data.lineId}}">
                                            <t t-esc="widget.set_data.lineName"></t>
                                        </option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    司&#160;&#160;&#160;&#160;&#160;&#160;&#160;机&#160;
                                    <input class="w2" disabled="disabled" t-attf-value="{{widget.set_data.driverName}}" type="text"/>
                                </td>
                                <td>
                                    方&#160;&#160;&#160;&#160;&#160;&#160;&#160;向&#160;
                                    <select name="" class="w2 direction" disabled="disabled" id="">
                                        <t t-if="widget.set_data.direction==0">
                                            <option value="0" selected="selected">上行</option>
                                            <option value="1">下行</option>
                                        </t>
                                        <t t-else="">
                                            <option value="0">上行</option>
                                            <option value="1" selected="selected">下行</option>
                                        </t>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" class="mode">
                                    <div class="mode_type">
                                        <a name="3" class="active type_bt replace_bt" href="javascript:;">批量更换</a>
                                        <a name="4" class="type_bt switch_bt" href="javascript:;">批量调换</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    更换时间范围&#160;&#160;<input class="w2 startTime required_field" type="time"/>&#160;~&#160;<input class="w2 endTime required_field" type="time"/>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    &#160;&#160;&#160;&#160;&#160;&#160;&#160;更换车辆&#160;&#160;<input class="w2 replace_vehicles carNum required_field" type="text"/>
                                    <input class="onBoardId" type="hidden" />

                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    &#160;&#160;&#160;&#160;&#160;&#160;&#160;更换司机&#160;&#160;<input class="w2 replace_driver workerId workerIdSearch required_field" type="text"/>
                                    <input class="driverName driverNameSearch" type="hidden" />
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">确定</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="driver_check_in_template">
        <div t-attf-class="modal customModal customModalAddPlan driverCheckIn styleModel_{{widget.styleModel}}" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel" id="identifier">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title" id="gridSystemModalLabel">司乘签到</h4>
                    </div>
                    <div class="modal-body" t-attf-workDate="{{widget.set_data.workDate}}" t-attf-gprsId="{{widget.set_data.gprsId}}">
                        <table>
                            <tr>
                                <td>
                                    车&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;辆&#160;
                                    <input class="w6 carNum" disabled="disabled" t-attf-value="{{widget.set_data.carNum}}" type="text"/>
                                    <input class="onBoardId" t-attf-value="{{widget.set_data.onBoardId}}" type="hidden" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    线&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;路&#160;
                                    <select name="" class="w6 line" disabled="disabled" id="">
                                        <option selected="selected" t-attf-value="{{widget.set_data.lineId}}">
                                            <t t-esc="widget.set_data.lineName"></t>
                                        </option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    司&#160;机&#160;工&#160;号&#160;
                                    <input class="w6 workerId workerIdSearch required_field" t-attf-value="{{widget.set_data.workerId}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    司&#160;机&#160;名&#160;称&#160;
                                    <input class="w6 driverName driverNameSearch required_field" t-attf-value="{{widget.set_data.driverName}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    乘务员工号&#160;
                                    <input class="w6 train trainSearch" t-attf-value="{{widget.set_data.trainId}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    乘务员名称&#160;
                                    <input class="w6 trainName trainNameSearch" t-attf-value="{{widget.set_data.trainName}}" type="text"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    时&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;间&#160;
                                    <input class="w6 workTime required_field" t-attf-value="{{new Date().toTimeString().slice(0, 5)}}" type="time" />
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" name="1" class="btn btn-primary">签到</button>
                        <button type="button" name="2" class="btn btn-primary">签退</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="edit_the_vehicle_template">
        <div class="modal customModal customModalAddPlan editTheVehicle" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel" id="identifier">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title" id="gridSystemModalLabel">编辑车辆</h4>
                    </div>
                    <div class="modal-body" t-attf-workDate="{{widget.set_data.workDate}}" t-attf-gprsId="{{widget.set_data.gprsId}}">
                        <table>
                            <tr>
                                <td>
                                    车&#160;&#160;&#160;&#160;&#160;&#160;&#160;辆&#160;&#160;
                                    <input class="w6 carNum" disabled="disabled" t-attf-value="{{widget.set_data.carNum}}" type="text" />
                                    <input class="onBoardId" t-attf-value="{{widget.set_data.onBoardId}}" type="hidden" />
                                </td>
                                <td>
                                    方&#160;&#160;&#160;&#160;&#160;&#160;&#160;向&#160;&#160;
                                    <select name="" class="w6 direction required_field" id="">
                                        <t t-if="widget.set_data.direction==0">
                                            <option value="0" selected="selected">上行</option>
                                            <option value="1">下行</option>
                                        </t>
                                        <t t-else="">
                                            <option value="0">上行</option>
                                            <option value="1" selected="selected">下行</option>
                                        </t>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    线&#160;&#160;&#160;&#160;&#160;&#160;&#160;路&#160;&#160;
                                    <select name="" class="w6 line" disabled="disabled" id="">
                                        <option selected="selected" t-attf-value="{{widget.set_data.lineId}}">
                                            <t t-esc="widget.set_data.lineName"></t>
                                        </option>
                                    </select>
                                </td>
                                <td>
                                    上班时间&#160;&#160;
                                    <input class="w6 onWorkTime required_field"  t-attf-value="{{new Date(widget.set_data.onWorkTime).toTimeString().slice(0, 5)}}" type="time" />
                                    <!-- <input class="onWorkTime"  t-attf-value="{{widget.set_data.onWorkTime}}" type="hidden" /> -->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    运营线路&#160;&#160;
                                    <select name="" class="w6 runGprs required_field" id="">
                                        <option selected="selected" t-attf-value="{{widget.set_data.gprsId}}">
                                            <t t-esc="widget.set_data.runLineName"></t>
                                        </option>
                                    </select>
                                </td>
                                <td>
                                    趟&#160;&#160;&#160;&#160;&#160;&#160;&#160;次&#160;&#160;
                                    <select name="" class="w6 realCount required_field" id="">
                                        <option selected="selected" t-attf-value="{{widget.set_data.realCount}}">
                                            <t t-esc="widget.set_data.realCount"></t>
                                        </option>
                                    </select>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" name="btn_on" class="btn btn-primary">确认</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="error_state_template">
        <div t-attf-class="modal customModal customModalAddPlan errorState styleModel_{{widget.styleModel}}" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel" id="identifier">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title" id="gridSystemModalLabel">异常状态</h4>
                    </div>
                    <div class="modal-body">
                        <ul class="yczt-ul selectType">
                            <li>
                                <span name="1001" class="ckIcon active"></span>&#160;<i></i>&#160;&#160;设置为正常状态
                            </li>
                            <li>
                                <span name="2003" class="ckIcon"></span>&#160;<i></i>&#160;&#160;设置为休息状态
                            </li>
                            <li>
                                <span name="2005" class="ckIcon"></span>&#160;<i></i>&#160;&#160;设置为加气状态
                            </li>
                            <li>
                                <span name="1002" class="ckIcon"></span>&#160;<i></i>&#160;&#160;设置为故障状态
                            </li>
                            <li>
                                <span name="2006" class="ckIcon"></span>&#160;<i></i>&#160;&#160;设置为保养状态
                            </li>
                            <li>
                                <span name="2010" class="ckIcon"></span>&#160;<i></i>&#160;&#160;设置为空放状态
                            </li>
                            <li>
                                <span name="2007" class="ckIcon"></span>&#160;<i></i>&#160;&#160;设置为其它状态
                            </li>
                        </ul>                       
                    </div>
                    <div class="modal-footer">
                        <button type="button" name="btn_on" class="btn btn-primary">确认</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="in_the_task_template">
        <div t-attf-class="modal customModal customModalAddPlan InTheTask styleModel_{{widget.styleModel}}" tabindex="-1" role="dialog" aria-labelledby="gridSystemModalLabel" id="identifier">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title" id="gridSystemModalLabel">进场任务</h4>
                    </div>
                    <div class="modal-body">
                        <table class="selectType">
                            <tr>
                                <td>
                                    包车任务&#160;&#160;<span name="1" class="ckIcon"></span>&#160;开始&#160;&#160;<span name="2" class="ckIcon"></span>&#160;结束
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    加油任务&#160;&#160;<span name="3" class="ckIcon"></span>&#160;开始&#160;&#160;<span name="4" class="ckIcon"></span>&#160;结束
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    修车任务&#160;&#160;<span name="5" class="ckIcon"></span>&#160;开始&#160;&#160;<span name="6"  class="ckIcon"></span>&#160;结束
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    运营任务&#160;&#160;<span name="100" class="ckIcon"></span>&#160;退出
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    车辆任务&#160;&#160;<span name="0" class="ckIcon"></span>&#160;结束
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" name="btn_on" class="btn btn-primary">确认</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="send_short_msg_msg">
        <div class="send_short_msg_msg">
            <div t-attf-class="modal modal_lty styleModel_{{widget.styleModel}}" tabindex="-1" role="dialog">
                <div class="modal-dialog" style="width:720px" role="document">
                    <div class="modal-content model_change_content">
                        <div class="modal-header">
                            <button type="button" class="close" style="opacity:1;color:white" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">×</span>
                            </button>
                            <h4 class="modal-title">发送短信</h4>
                        </div>
                        <div class="modal-body">
                            <div class="short_msg_content"></div>
                            <div class="msg_content_config" style="overflow:hidden">
                                <div class="checkbox fl">
                                    <label class="">
                                        重要短信
                                        <input class="input-checkbox" type="checkbox" name="demo-checkbox2" />
                                        <span class="demo--checkbox"></span>
                                    </label>
                                </div>
                                <div class="fl" style="width:270px;margin-left:24px">
                                    <label class="col-sm-3 control-label" style="padding:0;line-height:40px;">
                                        短信渠道
                                    </label>
                                    <div class="col-sm-9 pd0">
                                        <select class="msg_send_info laba">
                                            <option value="1">司机喇叭</option>
                                            <option value="2">外喇叭</option>
                                            <option value="3">内喇叭</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="fl" style="width:270px;margin-left:24px">
                                    <label class="col-sm-3 control-label" style="padding:0;line-height:40px;">
                                        预设短信
                                    </label>
                                    <div class="col-sm-9 pd0">
                                        <select class="msg_send_info ready_info">
                                            <option>选择预设短信</option>
                                            <option>信息1</option>
                                            <option>信息2</option>
                                            <option>信息3</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="checkbox fl">
                                    <label class="">
                                        发送给本线路所有车
                                        <input class="input-checkbox lineTypeCk" t-attf-line_id="{{widget.location_data.lineId}}" type="checkbox" name="demo-checkbox2" />
                                        <span class="demo--checkbox"></span>
                                    </label>
                                </div>
                            </div>
                            <input class="short_msg_text required_field" placeholder="请输入短信内容" />
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary send_msg_btn btn_confirm_lty">发送</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="communication_template">
            <div>
                <div class="communication dragContent nofix">
                    <div class="directory dragArea">
                    <t t-if="widget.channel.length>0">
                        <div class="channel directory_part">
                            <div class="directory_title">频道</div>
                            <div class="children_directory">
                                <t t-foreach="widget.channel" t-as="channel">
                                    <t t-if="channel.id==widget.source_channel.id">
                                        <div t-attf-class="children_o op_active" t-attf-id="{{channel.id}}" t-attf-name="{{channel.name}}" t-attf-img="{{channel.img}}">
                                            # <t t-esc="channel.name"></t>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <div t-attf-class="children_o" t-attf-id="{{channel.id}}" t-attf-name="{{channel.name}}" t-attf-img="{{channel.img}}">
                                            # <t t-esc="channel.name"></t>
                                        </div>
                                    </t>
                                </t>
                            </div>
                        </div>
                    </t>
                    
                    <t t-if="widget.direct_messages.length>0">
                        <div class="direct_messages directory_part">
                            <div class="directory_title">私信</div>
                            <div class="children_directory">
                                <t t-foreach="widget.direct_messages" t-as="direct_messages">
                                    <t t-if="direct_messages.id==widget.source_channel.id">
                                        <div t-attf-class="children_o op_active" t-attf-id="{{direct_messages.id}}" t-attf-name="{{direct_messages.name}}" t-attf-img="{{direct_messages.img}}">
                                            # <t t-esc="direct_messages.name"></t>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <div t-attf-class="children_o" t-attf-id="{{direct_messages.id}}" t-attf-name="{{direct_messages.name}}" t-attf-img="{{direct_messages.img}}">
                                            # <t t-esc="direct_messages.name"></t>
                                        </div>
                                    </t>
                                </t>
                            </div>
                        </div>
                    </t>
                </div>
                

                <div class="chat_info">
                    <a class="close_bt" href="javascript:;"></a>
                    <div class="info_window">
                        <div class="load_cont">加载中...</div>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="info_window_template">
        <div class="info_window_child" t-attf-data_id="data_{{widget.source_channel.id}}">
            <div class="chat_title dragArea">
                <t t-esc="widget.source_channel.name"></t>
            </div>
            <div class="chat_content">
                <t t-if="widget.source_channel.is_history">
                    <div class="history_info">
                        <div class="history_query">
                            <a class="history_bt" t-attf-associated_id="{{widget.source_channel.id}}" href="javascript:;">查看更多消息</a>
                            <p class="history_load">加载中...</p>
                        </div>
                    </div>
                    <div class="current_info_fgx">---------以上是历史数据----------</div>
                </t>
                <div class="current_info">
                    
                </div>
            </div>
            <div class="send_chat">
                <div class="o_composer_input o_composer">
                    <textarea class="o_content_text" placeholder="写些什么..." tabindex="2" ></textarea>
                </div>
                <div class="o_composer_buttons o_composer">
                    <a class="o_composer_button_send send_cont_bt" t-attf-send_id="{{widget.source_channel.id}}" tabindex="3" type="button">发送</a>
                </div>
            </div>
        </div>
    </t>

    <t t-name="chat_model_template">
        <div class="chat_model">
            <div class="oe_chat_icon">
                <t t-if="info.img">
                    <img class="user_icon" t-attf-src="info.img" alt=""/>    
                </t>
                <t t-else="">
                    <img class="user_icon" src="/web/image/res.partner/3/image_small" alt=""/>
                </t>
            </div>
            <div class="oe_chat_info">
                <div class="user_info">
                    <span class="oe_user_name mR10">
                        <t t-esc="info.name"></t>
                    </span>
                    <span class="oe_data_time">
                        <t t-esc="info.data_time"></t>
                    </span>
                </div>
                <div class="user_send_info">
                    <t t-esc="info.cont"></t>
                </div>
            </div>
        </div>
    </t>
    
    <t t-name="communication_tc_box_template">
        <div>
            
        </div>
    </t>

    <t t-name="communication_tc_template">
        <div class="message_warned dragContent layer_defined" t-attf-style="margin-left: {{widget.def_data.mgl}}px;margin-top: {{widget.def_data.mgt}}px">
            <h2 class="layui-layer-title dragArea cont_title">消息提醒
                <a class="close_bt" href="javascript:;"></a>
            </h2>
            <div class="cont">
                <t t-esc="widget.def_data.info.cont"></t>
            </div>
            <div class="bottom_bt">
                <a class="go_perform" t-attf-data_id="{{widget.def_data.info.id}}" href="javascript:;">去处理</a>
                <a class="cancel_bt" href="javascript:;">忽略</a>
            </div>
        </div>
    </t>

</templates>