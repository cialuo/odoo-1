<odoo>

    <!--IC卡编辑表单-->
    <record id="ICCard_manage_form_view" model="ir.ui.view">
        <field name="name">IC Card form</field>
        <field name="model">employees.iccards</field>
        <field name="arch" type="xml">
            <form string="department">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="returnCard" type="object"
                                class="oe_stat_button"
                                string="return Card"
                                attrs="{'invisible': [('employee_id', '=', False)]}"
                                icon="fa-archive">
                        </button>
                        <button name="toggle_active" type="object"
                                class="oe_stat_button"
                                attrs="{'invisible': [('inactive_reason', '=', False)]}"
                                icon="fa-archive">
                            <field name="active" widget="boolean_button"
                                   options='{"terminology": "archive"}'/>
                        </button>
                    </div>
                    <group>
                        <group>
                            <field name="cardsn" />
                            <field name="status" readonly="1"/>
                            <field name="employee_id" options="{'no_open': True, 'no_create': True}" readonly="1" />
                        </group>
                        <group>
                            <field name="active_date" readonly="1"/>
                            <field name="inactive_date" readonly="1"/>
                            <field name="inactive_reason"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="IC Card usage records">
                            <field name="usage_records">
                                <tree>
                                    <field name="iccar_id" />
                                    <field name="user" string="card user"/>
                                    <field name="returndate" string="card return date"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!--IC卡tree视图 -->
    <record id="ICCard_manage_tree_view" model="ir.ui.view">
        <field name="name">IC Card tree view</field>
        <field name="model">employees.iccards</field>
        <field name="arch" type="xml">
            <tree string="IC Card list">
                <field name="cardsn"/>
                <field name="status"/>
                <field name="employee_id"/>
                <field name="active_date"/>
                <field name="inactive_date"/>
                <field name="inactive_reason"/>
            </tree>
        </field>
    </record>
    <!--ic卡库action页面-->
    <record model="ir.actions.act_window" id="ICCard_manage_cardlist_action">
        <field name="name">IC Card</field>
        <field name="res_model">employees.iccards</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.ui.view" id="iccard_search_view">
        <field name="name">iccard.search</field>
        <field name="model">employees.iccards</field>
        <field name="arch" type="xml">
            <search>
                <field name="active"/>
                <filter name="in_active_cards" domain="[('active','=', False)]"/>
            </search>
        </field>
    </record>

    <!--ic停用action页面-->
    <record model="ir.actions.act_window" id="ICCard_manage_cardlist_lapsed_action">
        <field name="name">lapsed IC Card  </field>
        <field name="res_model">employees.iccards</field>
        <field name="view_mode">tree,form</field>
        <field name="context" eval="{'search_default_in_active_cards':1}"/>
    </record>

    <menuitem id="employee_ICCard_manage_menu" name="IC Card manage"
              parent="employees_menu.ltyhr_employee_document_menu"/>

    <menuitem id="employee_ICCard_manage_list_menu" name="IC Card storage"
              parent="employee_ICCard_manage_menu" action="ICCard_manage_cardlist_action"/>
    <menuitem id="employee_ICCard_manage_lapsed_list_menu" name="IC Card storage"
              parent="employee_ICCard_manage_menu" action="ICCard_manage_cardlist_lapsed_action"/>
</odoo>