<?xml version='1.0' encoding='utf-8' ?>
<template xml:space="preserve">

	<t t-name="dispatch_desktop_component">
		<div>
		</div>
	</t>
	<t t-name="desktop_top">
			<ul class="desktop_head">
			<li>
				<img src="/lty_dispatch_desktop/static/src/img/lty_logo.png" />
				<div>蓝泰源智能公交调度系统</div>
			</li>
			<li id="nowDateTimeSpan"></li>
			<li>
				<div>
					<img src="/lty_dispatch_desktop/static/src/img/icon_call.png"/>
					<div class="desktop_head_deal">应急电话</div>
				</div>
				<div>
					<img src="/lty_dispatch_desktop/static/src/img/icon_user.png"/>
					<div class="desktop_head_deal dd_person">调度员：</div>
				</div>
			</li>
		</ul>
	</t>
	<t t-name="bus_site_info">
		<div class="bus_site_info" t-attf-style="left:#{widget.location_data.x}px;top:#{widget.location_data.y}px;z-index:#{widget.location_data.zIndex}">
			<div class="ovf">
				<a class="del" href="javascript:;" title="删除">-</a>
			</div>
			<ul class="bus_site_content">
				<li class="get_digital_map">电子地图</li>
				<li class="get_main_controll_interface">主控界面</li>
				<li>聊天浮框</li>
				<li>在途车辆</li>
			</ul>
		</div>
	</t>
	<t t-name="digital_map">
		<div class="dragContent digital_map" t-attf-style="left:#{widget.location_data.x}px;top:#{widget.location_data.y}px;z-index:#{widget.location_data.zIndex}">
			<div class="closeBox dragArea"><a class="dis_close_bt" href="javascript:;"></a></div>
			<div id="digital_map"></div>
		</div>
	</t>
	<t t-name="main_controll_interface">
		<div class="dragContent main_controll_interface" t-attf-style="position: absolute;left:{{widget.location_data.x}}px;top:{{widget.location_data.y}}px;z-index:{{widget.location_data.zIndex}}">
			<div class="src_title">
				<div class="closeBox dragArea">
					<div class="line_btn">
						<a class="min" href="javascript:;">x</a>
					</div>
				</div>
				<div class="line_list">
					<ul>
						<li>挂牌</li>
						<li>调度配置</li>
						<li>调度间隔</li>
						<li>车辆查询</li>
						<li>车辆调动</li>
						<li>电子地图</li>
					</ul>
				</div>
			</div>
			<div class="src_content">
				<div class="bus_li">
					<ul class="bus_list">
						<li><a href="javascript:;" class="active_a">在途车辆</a></li>
						<li><a href="javascript:;">场站车辆</a></li>
						<li><a href="javascript:;">行车记录</a></li>
						<li><a href="javascript:;">调度日志</a></li>
						<li><a href="javascript:;">进出场日志</a></li>
						<li><a href="javascript:;">信息交互</a></li>
						<li><a href="javascript:;">历史广播</a></li>
					</ul>
				</div>
				<div class="one_width">
				</div>
				<div class="table_bus_num">
					<table>
						<tr>
							<th>线路</th>
							<th>方向</th>
							<th>趟次</th>
							<th>车辆</th>
							<th>司机</th>
							<th>营运里程</th>
							<th>GPS里程</th>
							<th>计划发车</th>
							<th>实际发车</th>
							<th>计划收车</th>
							<th>实际收车</th>
							<th class="th_last">类型</th>
						</tr>
						<tr>
							<td>16</td>
							<td>356</td>
							<td>粤B1VD2</td>
							<td>刘强</td>
							<td>挂班-上行在途</td>
							<td>第四趟</td>
							<td>35</td>
							<td>92%</td>
							<td>正常</td>
							<td>62KM/H</td>
							<td>9：00am</td>
							<td>11：00am</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
	</t>
    <t t-name="dispatch_desktop">
		<t t-if="widget.dis_desk">
				<div class="dispatch_desktop dragContent tidClass" t-attf-line_name="#{widget.dis_desk.line_id[1]}" t-attf-line_id="#{widget.dis_desk.line_id[0]}" t-attf-tid="#{widget.dis_desk.id}" t-attf-style="left:#{widget.dis_desk.position_left}px;top:#{widget.dis_desk.position_top}px;z-index:#{widget.dis_desk.position_z_index}">
					<div class="content">
					<!--线路信息展示-->
					<div class="line_info dragAreaDesk">
						<div  class="fl line_way">
							<ul>
								<li class="line_line"><t t-esc="widget.dis_desk.name"/></li>
								<li>区间</li>
							</ul>
						</div>
						<div class="bus_info fl">
							<ul>
								<li class="amountCar">配车数量：<span></span></li>
								<li class="trailerNum">挂车数量：<span></span></li>
								<li class="motorVehicle">机动车辆：<span></span></li>
								<li class="mainOutage">维保停运：<span>—</span></li>
								<li class="shareCar">共享机位：<span>—</span></li>
								<li class="singalIn">信号在线：<span></span></li>
								<li class="singalOut">信号掉线：<span></span></li>
								<li class="carDriver">司机：<span></span></li>
								<li class="carHelper">乘务：<span></span></li>
							</ul>
						</div>
						<div class="line_btn">
							<div class="line_btn_content posR">
								<a class="min" href="javascript:;" title="删除">-</a>
								<a href="javascript:;" title="客流展示" class="show_right">></a>
								<a class="line_edit" href="javascript:;" title="设置">+</a>
							</div>
							<div class="edit_content">
								<div class="ovf">
									<a class="del" href="javascript:;" title="删除">-</a>
								</div>
								<ul class="chs">
								</ul>
							</div>
						</div>
					</div>
                        <!--线路路况详情-->
					<div class="traffic ovf">
						<div class="road_distribute">
							<div  class="">
								<div class="line_status ovf">
									<ul class="fl park_left">
										<li>8</li>
										<li>12</li>
									</ul>
									<ul  class="fr park_right">
										<li>24</li>
										<li>12</li>
										<li>8</li>
										<li>65</li>
									</ul>
								</div>
								<div class="actual_traffic ovf">
									<canvas class="canvas_left fl" width="26" height="116"></canvas>
									<div>
										<canvas width="1190" height="33" class="can_top"></canvas>
										<div class="traffic_car">
											<div class="content_car_road_top">
											</div>
											<div class="content_car_road_down">
											</div>
										</div>
										<canvas width="1190" height="33" class="can_bottom"></canvas>
										<div class="run_car_hide">
											<div class="line_car">
												<div class="num_car">
													<span></span>
												</div>
												<div class="type_car">
													<span></span>
												</div>
											</div>
										</div>
									</div>
									<canvas class="canvas_right fl" width="26" height="116">

									</canvas>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</t>
		<t t-else="">
			<div>
				<div class="dispatch_desktop dragContent tidClass" tid="">
					<div class="content">
					<!--线路信息展示-->
						<div class="line_info dragAreaDesk">
							<div class="line_btn">
								<div class="line_btn_content posR">
									<a class="min" href="javascript:;" title="最小化">-</a>
									<a class="line_edit" href="javascript:;" title="设置">+</a>
									<div class="edit_content">
										<div class="ovf">
											<a class="del" href="javascript:;" title="最小化">-</a>
										</div>
										<ul class="chs">
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</t>
	</t>

	<t t-name="myConsole">
		<div class="my_console">
			<ul>
				<li class="new_console">
					<div class="div-icon">
						<s class="s-icon"></s>
					</div>
					<div class="div-a">
						<a href="javascript:;">添加模拟地图</a>
					</div>
				</li>
				<li class="save_console">
					<div class="div-icon">
						<s class="s-icon"></s>
					</div>
					<div class="div-a">
						<a href="javascript:;">保存控制台</a>
					</div>
				</li>
				<li class="read_console">
					<div class="div-icon">
						<s class="s-icon"></s>
					</div>
					<div class="div-a">
						<a href="javascript:;">配置</a>
					</div>
				</li>
			</ul>
		</div>
	</t>
    <!--上下行图表，客流是否异常-->
	<t t-name="updown_line_table">
		<t t-if="widget.dis_desk">
			<div class="updown_line_table posA dragContent tidClass" t-attf-line_id="#{widget.dis_desk.line_id[0]}" t-attf-tid="#{widget.dis_desk.id}" t-attf-style="left:#{widget.dis_desk.position_left}px;top:#{widget.dis_desk.position_top}px;z-index:#{widget.dis_desk.position_z_index};display:#{widget.dis_desk.tem_display}">
				<div class="updown_drag">
					<div class="updown_title dragAreaDesk">
						<div class="line_btn">
							<div class="line_btn_content posR">
								<a class="min" href="javascript:;" title="最小化">×</a>
							</div>
						</div>
					</div>
                    <!--替换-->
					<div class="carousel ovf">
						<div class="absnormal_diaodu">
							<div class="absnormal_height">
								<div class="absnormal_type">
									<h4>异常<span class="real_time_process">请及时处理</span></h4>
									<p></p>
								</div>
								<div class="absnormal_sug">
									<h4>建议</h4>
									<p></p>
								</div>
							</div>
						</div>

						<ul class="carousel_content">
							<li class="passenger_flow_list">
								<div class="lunbo_child">
								<!--替换-->
									<div class="absnormal_chart fl">

									</div>
									<ul class="absnormal_operate fl">
										<li class="no_absnormal">
											<div class="abs_info"></div>
											<div class="handleBtn ovf">
												<a class="manual" href="javascript:;">人工</a>
												<a class="process_check" href="javascript:;">校准</a>
												<a>忽略</a>
											</div>
											<div class="finishBtn">
												<a href="javascript:;" class="is_check">完成</a>
											</div>
										</li>
										<li class="normal">
											<h4>异常</h4>
											<p>无</p>
										</li>
									</ul>
								</div>
							</li>
							<li>
								<div class="lunbo_child">
									<div class="lagstation_chart fl">
									</div>
									<ul class="absnormal_operate fl">
										<li>
											<div class="absnormal_type">
												<h4>异常</h4>
												<p>实际客流大于运力供给30%</p>
											</div>
											<div class="absnormal_sug">
												<h4>建议<t t-esc="widget.dis_desk.name"></t></h4>
												<p>2趟/分钟/20分钟,需补充2台机动车</p>
											</div>
										</li>
										<li class="handleBtn ovf">
											<a>人工</a>
											<a>校准</a>
											<a>忽略</a>
										</li>
									</ul>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</t>
		<t t-else="">
			<div class="updown_line_table posA dragContent tidClass" tid="">
				<div class="updown_drag">
					<div class="updown_title dragAreaDesk">
						<div class="line_btn">
							<div class="line_btn_content posR">
								<a class="min" href="javascript:;" title="删除">x</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</t>
	</t>
	<t t-name="config">
		<div class="info_config">
			<div class="modal fade config" tabindex="-1" role="dialog">
			    <div class="modal-dialog" role="document">
					<div class="modal-content">
					    <div class="modal-header">
						    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
						    <h4 class="modal-title">配置</h4>
					    </div>
					  <div class="modal-body">
						<div>
							<dl>
								<dt>背景设置</dt>
                                <!--<dd>-->
                                <!--<span>-->
                                <!--背景色-->
                                <!--</span>-->
                                <!--<input type="color"/>-->
                                <!--</dd>-->
								<dd>
									<span>资源字体颜色设置</span>
									<input type="color" class="src_font_color"/>
								</dd>
                                <!--<dd>资源字体大小设置</dd>-->
							</dl>
							<dl>
								<dt>资源设置</dt>
								<dd>
									<div>配车数量</div>
									<div>
										<input type="checkbox" id="bus_num_config" class="src_config"/>
										<label for="bus_num_config" class="green"></label>
									</div>
								</dd>
								<dd>
									<div>机动车辆</div>
									<div>
										<input type="checkbox" id="motor_vehicle" class="src_config"/>
										<label for="motor_vehicle" class="green"></label>
									</div>
								</dd>
								<dd>
									<div>维保停运</div>
									<div>
										<input type="checkbox" id="bus_outage" class="src_config"/>
										<label for="bus_outage" class="green"></label>
									</div>
								</dd>
								<dd>
									<div>共享机动</div>
									<div>
										<input type="checkbox" id="share_bus" class="src_config"/>
										<label for="share_bus" class="green"></label>
									</div>
								</dd>
								<dd>
									<div>信号在线</div>
									<div>
										<input type="checkbox" id="signal_online" class="src_config"/>
										<label for="signal_online" class="green"></label>
									</div>
								</dd>
								<dd>
									<div>司机</div>
									<div>
										<input type="checkbox" id="bus_driver" class="src_config"/>
										<label for="bus_driver" class="green"></label>
									</div>
								</dd>
								<dd>
									<div>乘务员</div>
									<div>
										<input type="checkbox" id="src_config" class="src_config"/>
										<label for="src_config" class="green"></label>
									</div>
								</dd>
							</dl>
							<div>

						</div>
						</div>
					  </div>
					  <div class="modal-footer">
						<button type="button" class="btn btn-primary config_btn">确认</button>
						<button type="button" class="btn btn-default btn_cancel">取消</button>
					    </div>
					</div><!-- /.modal-content -->
			    </div><!-- /.modal-dialog -->
			</div>
		</div>
	</t>

	<t t-name="bus_source_config">
		<div class="dragContent bus_src_config" t-attf-line_id="{{widget.location_data.line_id}}" t-attf-style="position: absolute;left:{{widget.location_data.x}}px;top:{{widget.location_data.y}}px;z-index:{{widget.location_data.zIndex}}">
			<div class="src_title">
				<div class="closeBox dragArea">
					<div class="line_btn">
						<a class="min" href="javascript:;">x</a>
					</div>
				</div>
				<div class="line_list">
					<div class="line_company">
						<div class="src_line_number"><t t-esc="widget.line_src.respose[0].lineName"></t></div>
						<div>资源配备</div>
					</div>
					<div class="line_src">
						<ul>
							<li class="active">车辆资源</li>
							<li>人力资源</li>
						</ul>
					</div>
					<div></div>
				</div>
			</div>
			<div class="src_content">
				<div class="table_bus_num">
					<table>
						<thead>
						<tr>
							<th class="td_small">线路</th>
							<th class="td_small">车号</th>
							<th class="td_small">车牌</th>
							<th class="td_small">司机</th>
							<th>位置</th>
							<th class="td_small">状态</th>
							<th>当前任务</th>
							<th class="td_small">乘客数量</th>
							<th class="td_small">满载率</th>
							<th>信号状态</th>
							<th class="td_small">车速</th>
							<th>下趟发车</th>
							<th>回场时间</th>
							<th class="control_btn th_end">
								<p>
									能源剩余里程
								</p>
								<p class="add_btn">
									+
								</p>
								<div class="config_bus_source">
									<ul>
										<li><a>字段选择</a></li>
										<li><a>样式修订</a></li>
										<li><a>面板重置</a></li>
									</ul>
									<div><a>关闭面板</a></div>
								</div>
							</th>
						</tr>
					</thead>
						<tbody class="table_bus_num_tbody">
							<t t-foreach="widget.line_src.respose" t-as="item">
							<tr t-attf-src_id="{{item.id}}">
								<!--线路-->
								<td class="line_src_lineName td_small">
									<t t-esc="item.lineName"></t>
								</td>
                                <!--车号-->
								<td class="line_src_carNum td_small">
									<t t-esc="item.carNum"></t>
								</td>
                                <!--车牌-->
								<td class="line_src_onBoardId td_small">
									<t t-esc="item.onBoardId"></t>
								</td>
                                <!--司机名字-->
								<td class="line_src_driverName td_small">
									<t t-esc="item.driverName"></t>
								</td>
                                <!--位置-->
								<td class="line_src_site">
									<a href="#" class="position_site">
										<!--<t t-esc="item.location_gps"></t>-->
									</a>
								</td>
								<td class="line_src_status td_small">
									<p t-if="item.carStateId==1001">正常</p>
									<p t-elif="item.carStateId==2003">休息</p>
									<p t-elif="item.carStateId==2008">机动</p>
									<p t-elif="item.carStateId==2004">包车</p>
									<p t-elif="item.carStateId==2009">取消</p>
									<p t-elif="item.carStateId==2010">调车</p>
									<p t-elif="item.carStateId==255">不做</p>
									<p t-elif="item.carStateId==2011">什么也不做</p>
									<p t-elif="item.carStateId==2013">被锁</p>
									<p t-elif="item.carStateId==2005">加油</p>
									<p t-elif="item.carStateId==1002">报修</p>
									<p t-elif="item.carStateId==2006">在保</p>
									<p t-elif="item.carStateId==2007">保养</p>
									<p t-else="">其他</p>
								</td>
                                <!--当前任务-->
								<td class="line_src_current_task">
									<!--<t t-esc="item.Current_task"></t>-->
                                    <!--当前任务-->
									<p t-if="item.task==1000">正常</p>
									<p t-elif="item.carStateId==1001">进场包车开始</p>
									<p t-elif="item.carStateId==1002">进场包车结束</p>
									<p t-elif="item.carStateId==1003">进场加气开始</p>
									<p t-elif="item.carStateId==1004">进场加气结束</p>
									<p t-elif="item.carStateId==1005">进场报修开始</p>
									<p t-elif="item.carStateId==1006">进场报修结束</p>
									<p t-elif="item.carStateId==0">进场后小休息</p>
									<p t-elif="item.carStateId==1007">进场保养开始</p>
									<p t-elif="item.carStateId==1008">进场保养结束</p>
									<p t-elif="item.carStateId==1009">进场空放开始</p>
									<p t-elif="item.carStateId==1010">进场空放结束</p>
									<p t-elif="item.carStateId==1011">进场不操作</p>
									<p t-elif="item.carStateId==1012">进场下班，变机动</p>
									<p t-elif="item.carStateId==2011">什么也不做</p>
									<p t-elif="item.carStateId==2015">进场医疗开始</p>
									<p t-elif="item.carStateId==2016">进场医疗结束</p>
								</td>
                                <!--乘客数量-->
								<td class="line_src_Passanger_number td_small">
									<!--<t t-esc="Passenger_number"></t>-->

								</td>
                                <!--满载率-->
								<td class="line_src_full_load_rate td_small">
									<!--<t t-esc=""></t>-->
                                    <!--满载率-->
								</td>
                                <!--信号状态-->
								<td class="line_src_sinal_status">
									<!--<t t-esc="item.sinal_status"></t>-->
                                    <!--信号状态-->
								</td>
                                <!--车速-->
								<td class="line_src_speed td_small">
									<!--车速-->
								</td>
								<td class="line_src_next_trip_time">
									<!--下趟发车-->
									<t t-esc="item.planRunTime"></t>
								</td>
								<td class="line_src_return_time">
									<!--回场时间-->
									<t t-esc="item.realReachTime"></t>
								</td>
								<td class="line_src_residual_clearance">
									<!--能源剩余里程-->
								</td>
							</tr>
						</t>
					</tbody>
				</table>
				</div>
				<div class="table_source">
					<table>
						<tr>
							<th>姓名</th>
							<th>工号</th>
							<th>岗位</th>
							<th>配车</th>
							<th>配班</th>
							<th>本月趟次</th>
							<th>安全里程</th>
							<th>违章记录</th>
							<th>联系方式</th>
							<th class="control_btn">
							<p>
								当前位置
							</p>
							<p class="add_btn">
								+
							</p>
							<div class="config_bus_source">
								<ul>
									<li><a>字段选择</a></li>
									<li><a>样式修订</a></li>
									<li><a>面板重置</a></li>
								</ul>
								<div><a>关闭面板</a></div>
							</div>
						</th>
						</tr>
						<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
					</table>
				</div>
			</div>
		</div>
	</t>
	<t t-name="WidgetGaodeCoordinates">
		<div class="driver_site_map" t-attf-style="position: absolute;left:{{widget.location_data.x}}px;top:{{widget.location_data.y}}px;z-index:{{widget.location_data.zIndex}}">
			<div id="driver_site" class="gaode" ></div>
			<input type="button" class="btn btn-primary map_destory" value="返回"/>
		</div>
	</t>
	<t t-name="dispatch_control">
		<div class="back_style"></div>
	</t>
</template>
