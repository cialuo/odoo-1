<openerp>
  <data>
    <record model="ir.ui.view" id="lty_advanced_workflow_approve_center_list">
      <field name="name">lty_advanced_workflow_approve_center list</field>
      <field name="model">lty.approve.center</field>
      <field name="arch" type="xml">
        <tree create="false">
          <field name="object_id"/>
          <field name="approve_post"/>
          <field name="description"/>
          <field name="approve_node"/>
          <field name="status"/>
          <field name="active_node"/>
          <field name="approved"/>
        </tree>
      </field>
    </record>

	<record id="lty_advanced_workflow_approve_center_form" model="ir.ui.view">
		<field name="name">lty_advanced_workflow_approve_center form</field>
		<field name="model">lty.approve.center</field>
		<field name="arch" type="xml">
			<form string="Approve Center">
				<header>
                    <button name="do_approve" attrs="{'invisible': [('status','not in',('commited'))]}"  string="Approve" type="object" class="oe_highlight"/>
                    <button name="do_reject" attrs="{'invisible': [('status','not in',('commited'))]}" string="Reject" type="object" class="oe_highlight"/>
                    <field name="status" widget="statusbar" statusbar_visible="rejected,commited,approved" />
                </header>
                <sheet>
					<group>
						<group>
                            <field name="name" readonly='1'/>
                            <field name="description" readonly='1'/>
                            <field name="approve_node" readonly='1'/>
                            <field name="object_id" readonly='1'/>
                            <field name="cfg_line_id" readonly='1'/>							
						</group>
						<group>
                            <field name="commit_date" readonly='1'/>
                            <field name="source" readonly='1'/>
                            <field name="approve_opinions"/>	
                            <field name="active_node" readonly='1'/>
                            <field name="approved" readonly='1'/>                            
                            <field name="approve_post" readonly='1'/>
						</group>
					</group>
					<notebook>
						<page string = 'Approve logs'>
                            <field name="line_ids">
								<tree editable='bottom' create="false">
									<field name="user_id" readonly='1'/>
									<field name="approve_date" readonly='1' />
									<field name="approve_status" readonly='1'/>
									<field name="approve_opinions" readonly='1'/>
								</tree>
							</field>
						</page>
					</notebook>
                </sheet>
				<div class="oe_chatter">
					<field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
					<field name="message_ids" widget="mail_thread"/>
				</div>				
			</form>
		</field>
	</record>	
	
	
	
    <!-- actions opening views on models -->
    <record model="ir.actions.act_window" id="lty_advanced_workflow_approve_center_action">
      <field name="name">Approve Center</field>
      <field name="res_model">lty.approve.center</field>
      <field name="view_mode">tree,form</field>
    </record>
    
    <!-- 已审批 -->
    <record model="ir.actions.act_window" id="lty_advanced_workflow_approve_center_done_action">
      <field name="name">Approve Done</field>
      <field name="res_model">lty.approve.center</field>
      <field name="domain">[('status','=','approved')]</field>
      <field name="view_mode">tree,form</field>
    </record>   
    <!-- 我发起的审批-->
    <record model="ir.actions.act_window" id="lty_advanced_workflow_approve_center_mystart_action">
      <field name="name">My Start Approve</field>
      <field name="res_model">lty.approve.center</field>
      <field name="domain">[('start_user','=',uid)]</field>
      <field name="view_mode">tree,form</field>
    </record>    
     


    <!-- actions -->
    <menuitem name="Approve Center"  sequence="10" id="lty_advanced_workflow_approve_center_menu" parent="lty_advanced_workflow_mgt"
              action="lty_advanced_workflow_approve_center_action"/>              
    <menuitem name="我发起的审批"  sequence="30" id="lty_advanced_workflow_approve_center_start_by_me_menu" parent="lty_advanced_workflow_approve_center_menu"
              action="lty_advanced_workflow_approve_center_mystart_action"/>    
    <menuitem name="待我审批的"  sequence="10" id="lty_advanced_workflow_approve_center_approve_to_me_menu" parent="lty_advanced_workflow_approve_center_menu"
              action="lty_advanced_workflow_approve_center_action"/>    
    <menuitem name="我已审批的"  sequence="20" id="lty_advanced_workflow_approve_center_approve_by_me_menu" parent="lty_advanced_workflow_approve_center_menu"
              action="lty_advanced_workflow_approve_center_done_action"/>    
                                                        
                        
              
  </data>
</openerp>